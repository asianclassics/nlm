{"version":3,"sources":["serviceWorker.js","server/connection.js","server/search.js","actions/index.js","reducers/index.js","containers/Language.js","components/Languages.js","containers/NavItem.js","components/Nav.js","components/Header.js","components/Footer.js","components/Posts.js","components/Modal.js","components/Archives.js","components/Page.js","router.js","index.js"],"names":["Boolean","window","location","hostname","match","host","isConnected","healthStatus","console","log","client","elasticsearch","Client","protocol","port","path","_callee","health","regenerator_default","a","wrap","_context","prev","next","cluster","sent","status","t0","error","abrupt","stop","this","initialSearch","ids","body","size","query","type","values","search","index","searchID","id","nodeWP","endpointWP","initialIDs","LanguageArray","REQUEST_PAGES","RECEIVE_PAGES","REQUEST_POSTS","RECEIVE_POSTS","REQUEST_DATA","RECEIVE_DATA","REQUEST_ID","RECEIVE_ID","fetchSpecificID","doc_id","dispatch","then","dataDetail","imageAsset","hits","_source","workHasItemImageAsset","volumes","workNumberOfVolumes","REQUEST_MANIFEST","imageURL","concat","RECEIVE_MANIFEST","manifestURL","receivedAt","Date","now","fetchManifest","data","json","volume","workHasItem","DETAIL_MODAL","UNIVERSAL_VIEWER","content","state","arguments","length","undefined","isFetching","items","action","Object","assign","pages","lastUpdated","posts","item","viewerID","modalID","show","rootReducer","combineReducers","selectedLanguage","language","selectedPage","page","detailData","manifestData","detailModal","universalViewer","pagesByLanguage","defineProperty","lang","postsByLanguage","connect","ownProps","active","onClick","_ref","children","react_default","createElement","key","className","style","color","languages","keys","props","list","map","l","containers_Language","navigation","c","slug","substring","title","rendered","order","menu_order","slugs","nav","containers_NavItem","Link","to","Header","components_Languages","Nav","Footer","src","alt","href","fetchingPosts","post","i","j","mediaURL","_embedded","source_url","acf","dangerouslySetInnerHTML","__html","subtitle","unpackNames","arr","Array","isArray","split","Modal","unpack","_this","showModal","hasOwnProperty","parseType","source","hideModal","label","catalogInfo","personName","note","access","noteText","btn","disabled","target","showHideClassName","numberVolumes","localStorage","setItem","workDetail","Component","Archives","unpackFrontend","code","o","p","find","g","_this2","works","work","_work$_source","genre","topic","author","creatorMainAuthor","authorCode","components_Modal","Page","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","resetPage","setNumber","0","1","2","3","4","some","e","filter","backgroundImage","fetchingPages","Header_Header","renderPage","meowPage","components_Posts","components_Archives","Footer_Footer","Routes","BrowserRouter","Switch","Route","exact","component","loggerMiddleware","createLogger","store","createStore","applyMiddleware","thunkMiddleware","fetch","response","reduce","r","push","receivePages","receivePosts","asyncToGenerator","mark","_x","apply","checkConnection","ReactDOM","render","document","classList","add","es","router","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6bc1394e.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import elasticsearch from 'elasticsearch';\n\nconst port = 9200;\n//const host = process.env.NODE_ENV === 'production' ? '142.93.23.6' : 'localhost';\nconst host = '142.93.23.6' // : 'localhost';\n\nlet isConnected = false;\nlet healthStatus = 'red';\n\nconsole.log(host);\n\nconst log = (...msgs) => {\n\tif (process.env.NODE_ENV === 'development') {\n\t\tconsole.log(...msgs)\n\t}\n};\n\nconst client = new elasticsearch.Client({\n\thost: {\n\t\tprotocol: 'http',\n\t\thost: host,\n\t\tport: port,\n\t\tpath: ''\n\t},\n\tlog: 'info' //'trace'\n});\n\nasync function checkConnection() {\n\tlog('process.env.NODE_ENV ', host);\n\twhile(!isConnected) {\n\t\tlog('Connnnnecting....');\n\t\twhile(healthStatus === 'red') {\n\t\t\tlog('awaiting green light');\n\t\t\ttry {\n\t\t\t\tconst health = await client.cluster.health({});\n\t\t\t\tlog('health: ', health);\n\t\t\t\thealthStatus = health.status;\n\t\t\t\tisConnected = true;\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error('Connection yo, is failing...', err);\n\t\t\t\tisConnected = false;\n\t\t\t}\n\t\t}\n    }\n    \n    // cat module with json formatting\n    // client.cat.indices({\"format\": \"json\"}, (err, res) => {\n    //     log('cat2', res.filter(f => f.index.substring(0,4) === \"bdrc\"))\n    //     log(err)\n    // });\n\n    // HAVE A LOOK INTO THIS FOR FILTERING OBJECTS\n    // Object.filter = (obj, predicate) => \n    // Object.assign(...Object.keys(obj)\n    //                 .filter( key => predicate(obj[key]) )\n    //                 .map( key => ({ [key]: obj[key] }) ) );\n\n    // STATS MODULE to retreive indices\n    // client.indices.stats({\n    //     index: \"_all\",\n    //     level: \"indices\"\n    //  }, function(err, res) {\n    //     // res contains JSON data about indices stats\n    //     log('stats', res.indices)\n    //  });\n    \n\treturn isConnected;\n}\n\nexport { client, checkConnection, isConnected, log };","import { client, log } from './connection';\nconst initialIndex = 'frontend';\nconst type = ''; // 'data'\nconst size = 10;\n\nconst initialSearch = (ids) => {\n\t\n\tconst body = {\n\t\t\n\t\tsize: size,\n\t\tquery: {\n            ids: {\n                type: \"_doc\",\n                values: ids\n            }\n        }\n\t};\n\tlog('initial search body', body);\n\treturn client.search({index: initialIndex, type, body});\n};\n\nconst searchID = (id) => {\n\t\n\tconst body = {\n\t\t\n\t\tsize: size,\n\t\tquery: {\n            ids: {\n                type: \"_doc\",\n                values: id\n            }\n        }\n\t};\n\tlog('initial search body', body);\n\treturn client.search({index: ['bdrc_work', 'bdrc_topic', 'bdrc_person'], type, body});\n};\n\nconst textOnlyTerm = (term, catref, filterClause) => {\n\n\t// const filter = {\n\t// \tbool: { should: [ filterClause ] }\n\t// };\n\t\n\t// const multiMatchPhrase = {\n\t// \tquery: term,\n\t// \ttype: 'phrase',\n\t// \tfields: ['author*^10', 'title*^10', 'tibtext^3']\n\t// };\n\n\tconst highlight_all = {\n\t\tfields: {\n\t\t\ttibtext: {\n\t\t\t\tfragment_size: 0,\n\t\t\t\thighlight_query: {\n\t\t\t\t\tmatch_phrase: {\n\t\t\t\t\t\ttibtext: term \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tpre_tags: ['<yo>'],\n\t\tpost_tags: ['</yo>']\n\t};\n\n\tconst body = {\n\t\tquery: {\n\t\t\tterm: {\n\t\t\t\t'catref': catref\n\t\t\t}\n\t\t},\n\t\thighlight: highlight_all,\n\t\t_source: {\n\t\t\tincludes: ['tibtext']\n\t\t}\n\t\t\n\t};\n\t//console.log('the body of phrase match ', body);\n\t//const b = client.search({index, type, body});\n\t//log('logging client.search pre return ', b);\n\treturn client.search({initialIndex, type, body});\n};\n\n\nexport { initialSearch, textOnlyTerm, searchID };\n","import fetch from 'cross-fetch'\n\nimport { initialSearch, searchID } from '../server/search'\n\nimport config from './config-defaults.json'\n\nconst nodeWP = 'http://206.189.71.52/'\nconst endpointWP = 'wp-json/wp/v2/'\n\nconst initialIDs = [\n    'W22677',\n    'W1GS135873',\n    'W1KG5200',\n    'W22344',\n    'W1GS135531',\n    'W1KG1132',\n    'W1KG10720',\n    'W1KG1279',\n    'W1KG14700'\n]\n\nexport const LanguageArray = [\n    'English',\n    'Mongolian',\n    'Tibetan'\n]\n\nexport const SET_LANG = 'SET_LANG';\nexport const setLanguage = language => ({\n  type: SET_LANG,\n  language\n})\n\nexport const SET_PAGE = 'SET_PAGE';\nexport const setPage = page => ({\n    type: SET_PAGE,\n    page\n})\n/* ******************************************\nPAGES\nwp pages for content pages (about, preservation)\n********************************************/\nexport const REQUEST_PAGES = 'REQUEST_PAGES';\nfunction requestPages() {\n    return {\n        type: REQUEST_PAGES\n    }\n}\n\nexport const RECEIVE_PAGES = 'RECEIVE_PAGES';\nfunction receivePages(json) {\n    return {\n        type: RECEIVE_PAGES,\n        pages: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\nexport function fetchPages() {\n    return function(dispatch) {\n        dispatch(requestPages())\n        return fetch(`${nodeWP}${endpointWP}pages?_embed`)\n            .then(\n                response => response.json(),\n                error => console.log('An error ', error)    \n            )\n            .then(json => {\n                //reduce using empty array to group by language\n                return json.reduce((r, a) => {\n                    r[a.acf.language] = r[a.acf.language] || [];\n                    r[a.acf.language].push(a);\n                    return r;\n                }, []);\n            })\n            .then(json => { \n                // do NOT receivePages until there are pages!\n                dispatch(receivePages(json)) \n            })\n    }\n}\n\n/* ******************************************\nPOSTS\nwp posts for home page content\n********************************************/\nexport const REQUEST_POSTS = 'REQUEST_POSTS';\nfunction requestPosts() {\n    return {\n        type: REQUEST_POSTS\n    }\n}\n\nexport const RECEIVE_POSTS = 'RECEIVE_POSTS';\nfunction receivePosts(json) {\n    return {\n        type: RECEIVE_POSTS,\n        posts: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\nexport function fetchPosts() {\n    return function(dispatch) {\n        dispatch(requestPosts())\n        return fetch(`${nodeWP}${endpointWP}posts?_embed`)\n            .then(\n                response => response.json(),\n                error => console.log('An error ', error)    \n            )\n            .then(json => {\n                //reduce using empty array to group by language\n                return json.reduce((r, a) => {\n                    r[a.acf.language] = r[a.acf.language] || [];\n                    r[a.acf.language].push(a);\n                    return r;\n                }, []);\n            })\n            .then(json => \n                dispatch(receivePosts(json))\n            )\n    }\n}\n\n/* ******************************************\nDATA\nElasticsearch data from http://142.93.23.6:9200\n********************************************/\nexport const REQUEST_DATA = 'REQUEST_DATA';\nfunction requestData() {\n    return {\n        type: REQUEST_DATA\n    }\n}\n\nexport const RECEIVE_DATA = 'RECEIVE_DATA';\nfunction receiveData(json) {\n    return {\n        type: RECEIVE_DATA,\n        data: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        receivedAt: Date.now()\n    }\n}\n\nexport function fetchData() {\n    return async dispatch => {\n        dispatch(requestData())\n        try {\n            const data = await initialSearch(initialIDs)\n            return dispatch(receiveData(data))\n        } catch (error) {\n            console.error('there been error ', error)\n        }\n    }\n}\n\nexport const REQUEST_ID = 'REQUEST_ID';\nfunction requestID() {\n    return {\n        type: REQUEST_ID\n    }\n}\n\nexport const RECEIVE_ID = 'RECEIVE_ID';\nfunction receiveID(json) {\n    return {\n        type: RECEIVE_ID,\n        data: json, //.filter(child => child.acf.language === lang), //.data.children.map(child => child.data),\n        imageAsset: json.hits.hits[0]._source.workHasItemImageAsset,\n        volume: json.hits.hits[0]._source.workHasItem,\n        receivedAt: Date.now()\n    }\n}\n\n// return (dispatch, getState) => {\n//     const {items} = getState().otherReducer;\n\n//     dispatch(anotherAction(items));\n//   }\nexport function fetchSpecificID(doc_id) {\n    return dispatch => {  \n        console.log('fetchSpecificID!', doc_id)\n        dispatch(requestID())\n        try {\n            searchID([doc_id]).then((dataDetail) => {\n                console.log('THEN', dataDetail)\n                const imageAsset = dataDetail.hits.hits[0]._source.workHasItemImageAsset\n                const volumes = dataDetail.hits.hits[0]._source.workNumberOfVolumes\n                dispatch(fetchManifest(imageAsset, volumes))\n                return dataDetail\n            }).then((dataDetail) => {\n                return dispatch(receiveID(dataDetail))\n            })\n        } catch(error) {\n            console.error('fetch ID error! ', error)\n        }\n    }\n}\n\n// export function fetchSpecificID(doc_id) {\n//     return async dispatch => {\n        \n//         console.log('fetchSpecificID!', doc_id)\n//         dispatch(requestID())\n//         try {\n//             const dataDetail = await searchID([doc_id])\n//             const imageAsset = dataDetail.hits.hits[0]._source.workHasItemImageAsset\n//             const volumes = dataDetail.hits.hits[0]._source.workNumberOfVolumes\n            \n//             console.log('post fetchManifest', imageAsset, volumes)\n//             return receiveID(dataDetail).then(() => {\n//                 dispatch(fetchManifest(imageAsset, volumes))\n//             })\n//         } catch(error) {\n//             console.error('fetch ID error! ', error)\n//         }\n//     }\n// }\n\nfunction fetchManifest(imageAsset, volumes) {\n    return dispatch => {\n        console.log('INSIDE fetchManifest', imageAsset)\n        dispatch(requestManifest())\n        try {\n            let imageURL\n            const iiifpres = \"http://iiifpres.bdrc.io\" ;\n            if(imageAsset) {\n                if(volumes === 1) {\n                    // must reconstruct imageItem based on workHasItem > hasVolume\n                    // bdr:W22677\n                    // W22677 > workHasItem > bdr:I22677 > HasVolume > V22677_I1KG1714\n                    // BDRC \"http://iiifpres.bdrc.io/2.1.1/v:bdr:V22677_I1KG1714/manifest\"\n                    imageURL = `${iiifpres}/2.1.1/v:${imageAsset}/manifest`\n                    imageURL = ``\n                } else if(volumes > 1) {\n                    // bdr:W1GS135873\n                    // ACIP http://iiifpres.bdrc.io/2.1.1/collection/i:bdr:bdr:I1KG1132\n                    // BDRC \"http://iiifpres.bdrc.io/2.1.1/collection/i:bdr:I1GS135873\"\n                    imageURL = `${iiifpres}/2.1.1/collection/i:${imageAsset}`\n                }\n            }\n            return dispatch(receiveManifest(imageURL))\n        } catch (error) {\n            console.error('fetch manifest error! ', error)\n        }\n    }\n}\n\nexport const RECEIVE_MANIFEST = 'RECEIVE_MANIFEST';\nfunction receiveManifest(manifestURL) {\n    return {\n        type: RECEIVE_MANIFEST,\n        manifestURL,\n        receivedAt: Date.now()\n    }\n}\n\nexport const REQUEST_MANIFEST = 'REQUEST_MANIFEST';\nfunction requestManifest() {\n    console.log('requesting manifest!')\n    return {\n        type: REQUEST_MANIFEST\n    }\n}\n\nexport const DETAIL_MODAL = 'DETAIL_MODAL';\nexport const modalDetail = (modalID, show) => ({\n    type: DETAIL_MODAL,\n    modalID: modalID,\n    show: show\n})\n\nexport const UNIVERSAL_VIEWER = 'UNIVERSAL_VIEWER';\nexport const universalViewer = (viewerID, showViewer) => ({\n    type: UNIVERSAL_VIEWER,\n    viewerID,\n    showViewer\n})\n\nexport function fetchIIIF() {\n    return async dispatch => {\n        console.log('config!')\n        dispatch(requestIIIF())\n        try {\n            console.log('sign in to IIIF', config.auth)\n\n            //return config.text\n        }\n        catch(e) {\n            \n            console.error('config error', e)\n        }\n    }\n}\n\n\nexport const REQUEST_IIIF = 'REQUEST_IIIF';\nfunction requestIIIF() {\n    return {\n        type: REQUEST_IIIF\n    }\n}\n\nexport const RECEIVE_IIIF = 'RECEIVE_IIIF';\nfunction receiveIIIF(json) {\n    return {\n        type: RECEIVE_IIIF,\n        pages: json,\n        receivedAt: Date.now()\n    }\n}","import { combineReducers } from 'redux';\nimport {\n    REQUEST_PAGES,\n    RECEIVE_PAGES,\n    REQUEST_POSTS,\n    RECEIVE_POSTS,\n    SET_LANG,\n    SET_PAGE,\n    LanguageArray,\n    RECEIVE_DATA,\n    REQUEST_DATA,\n    RECEIVE_ID,\n    REQUEST_ID,\n    REQUEST_MANIFEST,\n    RECEIVE_MANIFEST,\n    DETAIL_MODAL,\n    UNIVERSAL_VIEWER\n} from '../actions';\n\nfunction content(\n    state = {\n        isFetching: false,\n        items: []\n    },\n    action\n) {\n    switch(action.type) {\n        case REQUEST_PAGES:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case RECEIVE_PAGES:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.pages,\n                lastUpdated: action.receivedAt\n            })\n        case REQUEST_POSTS:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case RECEIVE_POSTS:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.posts,\n                lastUpdated: action.receivedAt\n            })\n        case REQUEST_DATA:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case RECEIVE_DATA:\n            return Object.assign({}, state, {\n                isFetching: false,\n                items: action.data,\n                lastUpdated: action.receivedAt\n            })\n        case REQUEST_ID:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case RECEIVE_ID:\n            return Object.assign({}, state, {\n                isFetching: false,\n                item: action.data,\n                imageAsset: action.imageAsset,\n                volume: action.volume,\n                lastUpdated: action.receivedAt\n            })\n        case REQUEST_MANIFEST:\n            return Object.assign({}, state, {\n                isFetching: true\n            })\n        case RECEIVE_MANIFEST:\n            return Object.assign({}, state, {\n                isFetching: false,\n                manifestURL: action.manifestURL,\n                lastUpdated: action.receivedAt\n            })\n        case UNIVERSAL_VIEWER:\n            return Object.assign({}, state, {\n                viewerID: action.viewerID,\n                imageAsset: action.imageAsset\n            })\n        case DETAIL_MODAL:\n            return Object.assign({}, state, {\n                modalID: action.modalID,\n                show: action.show\n            })\n        default:\n            return state;\n    }\n}\n\nfunction pagesByLanguage(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_PAGES:\n        case REQUEST_PAGES:\n            return Object.assign({}, state, {\n                    [action.lang]: content(state[action.lang], action)\n            })\n        default:\n            return state;\n    }\n}\n\nfunction pages(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_PAGES:\n        case REQUEST_PAGES:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction data(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_DATA:\n        case REQUEST_DATA:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction detailData(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_ID:\n        case REQUEST_ID:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction manifestData(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_MANIFEST:\n        case REQUEST_MANIFEST:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction posts(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_POSTS:\n        case REQUEST_POSTS:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction postsByLanguage(state = {}, action) {\n    switch(action.type) {\n        case RECEIVE_POSTS:\n        case REQUEST_POSTS:\n            return Object.assign({}, state, {\n                [action.lang]: content(state[action.lang], action)\n            })\n        default:\n            return state;\n    }\n}\n\n\nconst selectedLanguage = (state = LanguageArray[0], action) => {\n    switch (action.type) {\n      case SET_LANG:\n        return action.language\n      default:\n        return state\n    }\n}\n\nfunction detailModal(state = { modalID: 0 }, action) {\n    switch(action.type) {\n        case DETAIL_MODAL:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nfunction universalViewer(state = { viewerID: 0 }, action) {\n    switch(action.type) {\n        case UNIVERSAL_VIEWER:\n            return Object.assign({}, state, content(state, action))\n        default:\n            return state;\n    }\n}\n\nconst selectedPage = (state = 'home', action) => {\n    switch (action.type) {\n        case SET_PAGE:\n            return action.page\n        default:\n            return state\n    }\n}\n\nconst rootReducer = combineReducers({\n    selectedLanguage,\n    selectedPage,\n    pages,\n    posts,\n    data,\n    detailData,\n    manifestData,\n    detailModal,\n    universalViewer,\n    pagesByLanguage,\n    postsByLanguage\n});\n\nexport default rootReducer;","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { setLanguage } from '../actions'\nimport { connect } from 'react-redux'\n\nconst Language = ({ active, children, onClick }) => (\n    <li\n      key={children}\n       onClick={active ? null : onClick}\n       className={active ? \"lang-active\" : \"lang\"}\n       style={active ? \n        { color: 'red', } :\n        { color: 'black', } \n        }\n    >\n     <button\n      key={children}\n      className=\"btn-lang\">\n      {children}\n    </button>\n    </li>\n)\n\nLanguage.propTypes = {\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func.isRequired\n}\n\n\n\nconst mapStateToProps = (state, ownProps) => ({\n  active: ownProps.selectedLanguage === state.selectedLanguage\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onClick: () => dispatch(setLanguage(ownProps.selectedLanguage)) \n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Language)\n","import React from 'react'\nimport Language from '../containers/Language'\nimport { connect } from 'react-redux'\n\nconst Languages = (props) => {\n    const list = props.languages.map(l => {\n        return (\n            <Language key={l} selectedLanguage={l}>{l}</Language>\n        );\n    });\n    return (\n        <ul className=\"language-list\">{list}</ul>\n    );\n}\n\nconst mapStateToProps = (state) => ({\n    languages: Object.keys(state.pages.items)\n});\n\nexport default connect(mapStateToProps)(Languages)","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { setPage } from '../actions'\nimport { connect } from 'react-redux'\n\nconst NavItem = ({ active, children, onClick }) => (\n    <li\n      key={children}\n       onClick={active ? null : onClick}\n       className={active ? \"nav-active\" : \"nav\"}\n       style={active ? \n        { color: 'red', } :\n        { color: 'black', } \n        }\n    >\n    <button\n      key={children}\n      className=\"btn-nav\">\n      {children}\n    </button>\n    </li>\n)\n\nNavItem.propTypes = {\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func.isRequired\n}\n\n\n\nconst mapStateToProps = (state, ownProps) => ({\n  active: ownProps.selectedPage === state.selectedPage\n})\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n    onClick: () => dispatch(setPage(ownProps.selectedPage)) \n  });\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(NavItem)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport NavItem from '../containers/NavItem'\n\nconst NavBar = ({ navigation }) => {\n    //console.log(navigation);\n    const slugs = navigation.map(nav => {\n        return (\n          <NavItem key={nav.slug} selectedPage={nav.match}><Link to={nav.slug}>{nav.title}</Link></NavItem>\n        );\n      });\n    return (\n\t\t<ul className=\"nav-list\">\n\t\t\t{slugs}\n\t\t</ul>\n    );\n}\n\nconst createNavigation = (pages) => {\n    return pages.map(c => {\n        return {\n          match: c.slug.substring(0,4),\n          title: c.slug.substring(0,4) ==='home' ? 'Home' : c.title.rendered,\n          slug: c.slug,\n          order: c.menu_order\n        }\n      });\n}\n\nconst mapStateToProps = (state) => ({\n    //navigation: createNavigation(state.pagesByLanguage[state.selectedLanguage])\n    navigation: createNavigation(state.pages.items[state.selectedLanguage])\n})\n\nexport default connect(mapStateToProps)(NavBar)","import React from 'react'\n\nimport Languages from './Languages'\nimport NavBar from './Nav'\n\nexport const Header = () => {\n    return (\n        <header id=\"header\">\n\t\t\t{/* <a href=\"#menu\">Menu</a> */}\n\t\t\t<Languages />\n            <NavBar />\n\t\t</header>\n    )\n}","import React from 'react'\n\nexport const Footer = () => {\n    return (\n        <footer id=\"footer\">\n            <div className=\"icon\">\n              <img \n                src=\"http://206.189.71.52/wp-content/uploads/2018/10/nlm-logo-no-text.png\" \n                alt=\"mongolia-logo\" />\n            </div>\n            <ul className=\"alt-icons\">\n                <li><a href=\"#1\" className=\"icon fa-twitter\"><span className=\"label\">Twitter</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-facebook\"><span className=\"label\">Facebook</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-linkedin\"><span className=\"label\">LinkedIn</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-github\"><span className=\"label\">GitHub</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-phone\"><span className=\"label\">Phone</span></a></li>\n                <li><a href=\"#1\" className=\"icon fa-envelope\"><span className=\"label\">Email</span></a></li>\n            </ul>\n            <ul className=\"menu\">\n                <li><a href=\"#1\">Terms of Use</a></li>\n                <li><a href=\"#1\">Privacy Policy</a></li>\n                <li><a href=\"#1\">Contact Us</a></li>\n            </ul>\n            <p className=\"copyright\">\n                &copy; Untitled Corp. YO. All rights reserved. ACIP.\n            </p>\n        </footer>\n    )\n}\n\n","import React from 'react'\nimport { connect } from 'react-redux'\n\n\n\nconst Posts = ({ posts }) => {\n    if(!posts) {\n        return <div>NO POSTS</div>\n    }\n    else {\n        //console.log(posts);\n        return posts.map((post, i) => {\n        let j = i % 2 === 0 ? 1 : 3;\n        //console.log('i IS ', i)\n        let mediaURL = \"\"\n        if(post._embedded[\"wp:featuredmedia\"]) {\n            mediaURL = post._embedded[\"wp:featuredmedia\"][0].source_url || \"\"\n        }\n        if(j === 3) {\n            return (\n                <section key={i} id={i} className={`wrapper special style${j}`}>\n                    <div className=\"inner\">\n                        <section className=\"spotlights\">\n                            <section>\n                                <h2>{post.acf.title}</h2>\n                                <span className=\"image\"><img src={mediaURL} alt=\"\" /></span>\n                            </section>\n                            <section>\n                                <p dangerouslySetInnerHTML={{__html: post.content.rendered}} />\n                                <ul className=\"actions\">\n                                    <li><a href={`#${i+1}`} className=\"button\">{post.acf.subtitle}</a></li>\n                                </ul>\n                            </section>\n                        </section>\n                    </div>\n                </section>\n            )\n        }\n        return (\n            <section key={i} id={i} className={`wrapper special style${j}`}>\n                <div className=\"inner\">\n                    <section className=\"spotlights\">\n                        <section>\n                            <h2>{post.acf.title}</h2>\n                            <p dangerouslySetInnerHTML={{__html: post.content.rendered}} />\n                            <ul className=\"actions\">\n                                <li><a href={`#${i+1}`} className=\"button\">{post.acf.subtitle}</a></li>\n                            </ul>\n                        </section>\n                        <section>\n                            <span className=\"image\"><img src={mediaURL} alt=\"\" /></span>\n                            <h2>Lacus elementum</h2>\t\n                        </section>\n                    </section>\n                </div>\n            </section>\n            )\n        })\n    }\n}\n\n\nconst mapStateToProps = (state) => ({\n    fetchingPosts: state.posts.isFetching,\n    selectedLanguage: state.selectedLanguage,\n    posts: state.posts.isFetching ? [] : state.posts.items[state.selectedLanguage]\n})\n\nexport default connect(mapStateToProps)(Posts)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nconst unpackNames = (arr, type) => {\n    //console.log('names ', typeof(arr['rdfs:label']), arr['rdfs:label'])\n    if(Array.isArray(arr['rdfs:label'])) {\n        //console.log('WTF i array', arr['rdfs:label'])\n        const a = arr['rdfs:label'].map((l, i) => {\n            //console.log('mapping', l)\n            return (\n                <p key={i} className=\"modal-text\">\n                    <span className=\"meta-italics\">({l['@language']}): </span>\n                    <span className=\"meta-title\">{l['@value']}</span>\n                </p>\n            )})\n            return (\n                <div className=\"modal-text\">\n                    <span className=\"meta-detail\">{type.split(\"Person\")[1]}: </span>\n                    {a}\n                </div>\n            )\n    } else {\n        return (\n            <p className=\"modal-text\">\n                <span className=\"meta-detail\">{type.split(\"Person\")[1]}: </span>\n                <span className=\"meta-italics\">({arr['rdfs:label']['@language']}): </span>\n                <span className=\"meta-title\">{arr['rdfs:label']['@value']}</span>\n            </p>\n        )\n    }\n\n    // return (\n    //     <p className=\"modal-text\">\n    //         <span className=\"meta-detail\">{arr.type.split(\"Person\")[1]}: </span>\n    //         <span className=\"meta-italics\">({arr['rdfs:label']['@language']}): </span>\n    //         <span className=\"meta-title\">{arr['rdfs:label']['@value']}</span>\n    //     </p>\n       \n    // )\n}\n\n\n\n\n\n// { hideModal, doc_id, show, workDetail, manifestURL}\nclass Modal extends Component {\n\n    componentWillMount() {\n        console.log('props from MODAL, mounted', this.props)\n    }\n\n    unpack = (arr) => {\n        if(arr === null) {\n            return null\n        } else if(Array.isArray(arr)) {\n            return arr.map((a, i) => {\n                if(typeof a === 'object') {\n                    return this.unpack(a)\n                } else if(a.substring(0,3) === 'bdr') {\n                    return (\n                        <div key={i} className=\"card-sub-item\">\n                            {/* <a onClick={() => this.handleClick(a.split(\":\")[1])} href={a}>{a}</a> */}\n                            <a onClick={() => this.showModal(a.split(\":\")[1])} href={a}>{a}</a>\n                        </div> \n                    )\n                } else {\n                    return ( <div key={i} className=\"card-sub-item\">{a}</div>)\n                }\n                \n            })\n        } else if (typeof arr === 'object') {\n            // re-factor to allow for retreival of '@value' from any key\n            if(arr.hasOwnProperty('type')) { \n                return unpackNames(arr, arr.type) \n            } else {\n                return (\n                    <p key={arr['@value']} className=\"modal-text\">\n                        <span className=\"meta-italics\">({arr['@language']}): </span>\n                        <span className=\"meta-title\">{arr['@value']}</span>\n                    </p>\n                   \n                )\n            }\n            \n        } else if (typeof arr === 'string') {\n            if(arr.substring(0,3) === 'bdr') {\n                return ( <a onClick={() => this.showModal(arr.split(\":\")[1])} href={arr}>{arr}</a> )\n            } else {\n                return arr\n            }\n            \n        }\n        \n    }\n\n    parseType = (source, hideModal, manifestURL) => {\n        let { \n            'skos:prefLabel': label,\n            '@id': id,\n            type,\n            'workCatalogInfo': catalogInfo,\n            personName,\n            note,\n            'adm:access': access\n            //'workHasItemImageAsset': imageAsset,\n            //'workHasItem': volumeAsset,\n            //'workNumberOfVolumes': volumes\n        } = source\n    \n        console.log(\"ACCESS!\", access)\n\n        // if(assoc.length == 1) { \n        //     this.props.onHasImageAsset(iiifpres+\"/2.1.1/v:bdr:\"+this.pretty(assoc[0].value)+\"/manifest\",this.props.IRI); \n        // } else { \n        //     this.props.onHasImageAsset(iiifpres+\"/2.1.1/collection/i:bdr:\"+this.pretty(e.value),this.props.IRI);  \n        // }\n    \n        // set undefined to null for pre-render check\n        note !== undefined ? note = note.noteText : note = null\n    \n        switch(type) {\n            case 'Person':  \n                return (\n                    <div className=\"detail-data\">\n                        <p className=\"meta-detail\">\n                            <span>Detail for record {id}, </span>\n                            <span> {type}</span>\n                        </p>\n                        <div className=\"modal-title\">{ this.unpack(label) }</div>\n                        <div className=\"\">\n                            <span className=\"lead-item\">Name(s): </span>\n                            <span className=\"meta-catalog\">{ this.unpack(personName) }</span>\n                        </div>\n                        <button onClick={hideModal}>Close</button>\n                    </div>\n                )\n            case 'Topic':\n                return (\n                    <div className=\"detail-data\">\n                        <p className=\"meta-detail\">\n                            <span>Detail for record {id}, </span>\n                            <span> {type}</span>\n                        </p>\n                        <div className=\"modal-title\">{ this.unpack(label) }</div>\n                        {note === null ? null : (\n                            <div className=\"meta-catalog\">Note: { note !== null ? this.unpack(note) : null }</div>\n                        )}\n                        <button onClick={hideModal}>Close</button>\n                    </div>\n                )\n            case 'Work':\n                let btn\n                if(manifestURL.length === 0) {\n                    btn = null\n                } else if(access === 'bdr:AccessRestrictedByTbrc') {\n                    btn = (\n                        <button disabled={true}>\n                            <i className=\"fa fa-2x fa-eye-slash\"></i> Scans Restricted\n                        </button>\n                    )\n                } else {\n                    btn = (\n                        <a target=\"_blank\" href=\"/viewer.html\">\n                            <button>\n                                <i className=\"fa fa-2x fa-eye\"></i> SCANS\n                            </button>\n                        </a>\n                    )\n                }\n                return (\n                    <div className=\"detail-data\">\n                        <p className=\"meta-detail\">\n                            <span>Detail for record {id}, </span>\n                            <span> {type}</span>\n                        </p>\n                        <div className=\"modal-title\">{ this.unpack(label) }</div>\n                        <div className=\"meta-catalog\">{ this.unpack(catalogInfo) }</div>\n                        <button onClick={hideModal}>\n                            <i className=\"fa fa-2x fa-times\"></i> \n                             Close\n                        </button>\n                        {btn}\n                    </div>\n                )\n            default:\n                return null\n        }\n    }\n    \n    render() {\n        const showHideClassName = this.props.show ? 'modal display-block' : 'modal display-none';\n        let data\n        console.log('on this render i have volumes, ', this.props.numberVolumes)\n    \n        if(this.props.manifestURL !== undefined) {\n            if(this.props.manifestURL.length > 0) {\n                localStorage.setItem(\"manifestURL\", this.props.manifestURL)\n            } else {\n                localStorage.setItem(\"manifestURL\", \"\")\n            }\n        }\n        \n        if(Object.keys(this.props.workDetail).length > 0) {\n            data = this.parseType(this.props.workDetail._source, this.props.hideModal, this.props.manifestURL)\n        } else {\n            data = <div>LOADING {this.props.doc_id}</div>\n        }\n        return ( \n            <div \n                className={showHideClassName}\n                onClick={this.props.hideModal}\n            >\n                <section className='modal-main'>\n                    {data}\n                </section>\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = (state) => ({\n    workDetail: state.detailData.isFetching || state.detailModal.modalID === 0 ? {} : state.detailData.item.hits.hits[0],\n    manifestURL: state.manifestData.isFetching || state.detailData.isFetching ? '' : state.manifestData.manifestURL,\n    numberVolumes: state.detailData.isFetching || state.detailModal.modalID === 0 ? null : state.detailData.item.hits.hits[0]._source.workNumberOfVolumes\n})\n\nexport default connect(mapStateToProps)(Modal)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n//import { Link, withRouter } from 'react-router-dom'\n\nimport { fetchSpecificID, fetchIIIF } from '../actions'\n\nimport Modal from './Modal'\n//import UniversalViewer from './UniversalViewer'\n//import View from './View'\n\n\n\n/* of interest \n\n// ID & Category\n@id - bdr:...\ntype (Work, Person, Topic)\n\n// LINKS \ncreatorMainAuthor\nworkCreator\nworkGenre\nworkIsAbout (can be an array)\nworkHasPart (usually array)\n\n// For any of these, check the @language\n// TIBETAN bo-x-ewts\nnote.noteText['@value']\n['skos:prefLabel']['@value'] && ['@language']\nworkTitle['rdfs:label'] (can be an array)\n\n// ENGLISH (might be)\nworkBiblioNote\nworkCatalogInfo\n\n*/\nclass Archives extends Component {\n\n    // setManifest = (doc_id) => {\n    //     //this.props.dispatch(fetchIIIF(doc_id))\n    //     this.props.dispatch(\n    //         { type: 'UNIVERSAL_VIEWER', viewerID: doc_id }\n    //     )\n    //     localStorage.setItem(\"manifestURL\", \"http://iiifpres.bdrc.io/2.1.1/collection/i:bdr:I1GS135873\")\n                        \n    // }\n\n    // hideViewer = () => {\n    //     this.props.dispatch({ type: 'UNIVERSAL_VIEWER', showViewer: false })\n    // }\n\n    showModal = (doc_id) => {\n        //fetchSpecificID(doc_id)\n        this.props.dispatch(fetchSpecificID(doc_id))\n        //this.props.dispatch(fetchIIIF(doc_id))\n        this.props.dispatch(\n            { type: 'DETAIL_MODAL', modalID: doc_id, show: true }\n        )\n    }\n\n    hideModal = () => {\n        //this.setState({ show: false });\n        this.props.dispatch({ type: 'DETAIL_MODAL', show: false})\n    }\n\n    unpackFrontend = (code, o) => {\n        if(code === 'P') {\n            let p = null\n            if(Array.isArray(o.data.personName)) {\n                p = o.data.personName.find(p => p.type === 'PersonPrimaryName');\n                p = p['rdfs:label']['@value']\n            }\n            //console.log('unpacking person', p)\n            return p\n        } else if(code === 'T') {\n            let g = null\n            if(Array.isArray(o.data['skos:prefLabel'])) {\n                g = o.data['skos:prefLabel'].find(g => g['@language'] === 'en')\n                g = g == null ? g = o.data['skos:prefLabel'].find(g => g['@language'] === 'bo-x-ewts') : g  \n                g = g['@value']  \n            } else if(typeof o.data['skos:prefLabel'] === 'object') {\n                g = o.data['skos:prefLabel']['@value']\n            }\n            //console.log('unpacking topic', g)\n            return g\n        } else if(code === 'W') {\n            console.log('I ended up in W', o)\n        } else {\n            return null\n        }\n    }\n\n    unpack = (arr) => {\n        if(arr === null || arr === undefined) {\n            return null\n        } else if(Array.isArray(arr)) {\n            return arr.map((a, i) => {\n                if(typeof a === 'object') {\n                    return this.unpack(a)\n                } else if(a.substring(0,3) === 'bdr') {\n                    return (\n                        <div key={i} className=\"card-sub-item\">\n                            {/* <a onClick={() => this.handleClick(a.split(\":\")[1])} href={a}>{a}</a> */}\n                            <a onClick={() => this.showModal(a.split(\":\")[1])} href={a}>{a}</a>\n                        </div> \n                    )\n                } else {\n                    return ( <div key={i} className=\"card-sub-item\">{a}</div>)\n                }\n                \n            })\n        } else if (typeof arr === 'object') {\n                if('key' in arr) {\n                    \n                    if(arr.data.hasOwnProperty('@id')) {\n                        return arr.data['@id']\n                    } \n                    else {\n                        return this.unpackFrontend(arr.code, arr)\n                    }        \n                } else if(arr.hasOwnProperty('@value')) {\n                    return arr['@value']\n                } else {\n                    return ( <span key={arr['rdfs:label']['@value']}>{arr['rdfs:label']['@value']}</span> )\n                }\n                \n        } else if (typeof arr === 'string') {\n                if(arr.substring(0,3) === 'bdr') {\n                    return ( <a onClick={() => this.showModal(arr.split(\":\")[1])} href={arr}>{arr}</a> )\n        } else {\n            return (\n                <span>{arr}</span>\n            )\n        }\n    }\n}\n\n    render() {\n        \n        const items = this.props.works.map((work, i) => {\n\n            const { \n                'skos:prefLabel': label,\n                '@id': id,\n                // 'creatorMainAuthor': author,\n                //'workCreator': creator,\n                'workGenre': genre,\n                'workIsAbout': topic,\n                //'workTitle': title,\n                //'workHasPart': parts,\n                'workNumberOfVolumes': volumes\n            } = work._source\n\n            //console.log('V', volumes)\n\n            const author = work._source.creatorMainAuthor !== undefined ? work._source.creatorMainAuthor : null \n            const authorCode = author !== null ? author.item : null\n            //console.log('AUTHOR', author)\n\n            // CARD\n            return (\n                \n                <div key={i} className=\"card\">\n                    <div className=\"card-item\">\n                        <span className=\"item-work\"> \n                            { this.unpack(label) }\n                        </span>\n                    </div>\n\n                    {/* <div className=\"card-item\">\n                        <span className=\"item-lead\">Title:</span>\n                        <span> { this.unpack(title) }</span>\n                    </div> */}\n\n                    <div className=\"card-item\">\n                        <span className=\"item-lead\">Author: </span> \n                        <span className=\"item-btn\" onClick={() => this.showModal(authorCode)} href={authorCode}>\n                                { this.unpack(author) }\n                        </span>\n                    </div>\n                    <div className=\"card-item\">\n                        <span className=\"item-lead\">Genre:</span> \n                        <span> { this.unpack(genre) }</span>\n                    </div>\n                    <div className=\"card-item\">\n                        <span className=\"item-lead\">Topic:</span> \n                        <span> { this.unpack(topic) }</span>\n                    </div>\n                    \n\n                    <button onClick={() => this.showModal(id.item)}>\n                        More details...\n                    </button>\n                    {/* <Link \n                        target='_blank' \n                        to=\"viewer\"    \n                    >\n                    VIEWER\n                    </Link> */}\n                    \n\n                </div>\n            )\n        })\n        // GRID\n        return (\n            <div className=\"grid\">\n                {items}\n                <Modal \n                    key={this.props.doc_id}\n                    hideModal={this.hideModal}\n                    doc_id={this.props.doc_id} \n                    show={this.props.showModal}\n                />\n                {/* <UniversalViewer \n                    key={`UNIV`}\n                    hideViewer={this.hideViewer}\n                    doc_id={this.props.doc_id} \n                    showViewer={this.props.showViewer} \n                    \n                /> */}\n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = (state) => ({\n    works: state.data.items.hits.hits,\n    workDetail: state.detailData.isFetching || state.detailModal.modalID === 0 ? {} : state.detailData.item.hits.hits[0],\n    doc_id: state.detailModal.modalID,\n    showModal: state.detailModal.show,\n    manifestURL: state.manifestData.isFetching ? '' : state.manifestData.manifestURL\n})\n\nexport default connect(mapStateToProps)(Archives)\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport { Header } from './Header';\nimport { Footer } from './Footer';\nimport Posts from './Posts'\nimport Archives from './Archives'\n\nclass Page extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.setNumber = {\n      0: 'one',\n      1: 'one',\n      2: 'two',\n      3: 'three',\n      4: 'four'\n    }\n\n  }\n\n  resetPage = () => {\n    this.props.dispatch({ type: 'SET_PAGE', page: 'home' });\n  }\n\n  renderPage(selectedPage, pages) {\n    if (!pages.some(e => e.slug.substring(0,4) === selectedPage)) {\n      console.log('page not there');\n      this.resetPage();\n    }\n    return pages\n      .filter(page => page.slug.substring(0,4) === selectedPage)\n      .map((page, i) => {\n        let mediaURL = null\n        if(page._embedded[\"wp:featuredmedia\"]) {\n          mediaURL = page._embedded[\"wp:featuredmedia\"][0].source_url\n        }\n        return (\n          <div key={page.slug}>\n          <section \n            id=\"banner\" \n            key={page.id}\n            style={{\n              backgroundImage: \n                `linear-gradient(to bottom, \n                  rgba(239, 239, 239,0.1) 50%,\n                  rgba(239, 239, 239,1.0) 100%), \n                  url(${mediaURL})`\n              //backgroundImage: `url(${mediaURL}`\n            }}>\n            <header className=\"major\">\n              <span className=\"icon fa-angellist style7\"></span>\n              <h1>{page.acf.title}</h1>\n              <h3>{page.acf.subtitle}</h3>\n            </header>\n            {/* <ul className=\"actions\">\n              <li><a href=\"#1\" className=\"button scrolly\">Proceed</a></li>\n            </ul> */}\n          </section>\n          {selectedPage === 'home' ? null : \n          <section className={`wrapper special style1`}>\n            <div className=\"inner-page\">\n                <section className=\"spotlights\">\n                  <p dangerouslySetInnerHTML={{__html: page.content.rendered}} />\n                  {/* <ul className=\"actions\">\n                    <li>{page.acf.subtitle}</li>\n                  </ul> */}\n                </section>\n            </div>\n          </section>\n          }\n          </div>\n        )\n    })\n  }\n\n  render() {\n   \n    if(this.props.fetchingPages || this.props.fetchingPosts) {\n        return (\n          <div>LOADING</div>\n        );\n    }\n    return (\n      <div className=\"container\">\n        <Header />\n        \n        { this.renderPage(this.props.selectedPage, this.props.pages, this.props.meowPage) }\n        { this.props.selectedPage === 'home' ? <Posts /> : null }\n        { this.props.selectedPage === 'arch' ? <Archives /> : null }\n        <Footer />\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  fetchingPages: state.pages.isFetching,\n  selectedLanguage: state.selectedLanguage,\n  selectedPage: \n    state.pages.isFetching ? \n    [] : \n    state.pages.items[state.selectedLanguage].some(page => page.slug.substring(0,4) === state.selectedPage) ? \n    state.selectedPage : \"home\",\n  pages: state.pages.isFetching ? [] : state.pages.items[state.selectedLanguage]\n});\n\nexport default connect(mapStateToProps)(Page);","import React from 'react';\nimport { Route, Switch, BrowserRouter as Router } from 'react-router-dom';\n\n//import { connect } from 'react-redux';\n\nimport Page from './components/Page'\n//import View from './components/View'\n\n// const componentRoutes = {\n//     component: Home,\n//     path: '/',\n//     indexRoute: { component: WPPosts },\n//     childRoutes: [\n//         {\n//             path: ''\n//         }\n//     ]\n// }\n\nconst Routes = () => {\n    \n    // const nav = navigation.map(n => {\n    //     return (\n    //         <Route path=\"/{n}\" />\n    //     );\n    // });\n    \n    \n    return (\n        <Router>\n            <Switch>\n                <Route exact path=\"/\" component={Page} />\n                {/* <Route path=\"/viewer\" component={View} /> */}\n                <Route path=\"/:page\" component={Page} />\n                \n            </Switch>\n        </Router>\n    )\n};\n\n// const createNavigation = (pages) => {\n//     return pages.items.map(c => {\n//         return { slug: c.slug }\n//       });\n// }\n\n// const mapStateToProps = (state) => ({\n//     navigation: state.pagesByLanguage[state.language].items.map(s => s.slug)\n// })\n\nexport default Routes;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport { createStore, applyMiddleware } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport { Provider } from 'react-redux';\nimport thunkMiddleware from 'redux-thunk'\n\nimport { fetchPages, fetchPosts, fetchData, fetchIIIF } from './actions'\nimport rootReducer from './reducers'\n\nimport Routes from './router'\n\nimport { checkConnection } from './server/connection'\n\nimport './assets/css/main.css'\nimport './assets/css/index.css'\n\nconst loggerMiddleware = createLogger();\n\nconst store = createStore(\n    rootReducer, \n    applyMiddleware(\n        thunkMiddleware,\n        loggerMiddleware\n    )\n);\nstore.dispatch(fetchPages())\nstore.dispatch(fetchPosts())\n        //.then(() => console.log(store.getState()));\nstore.dispatch(fetchData())\n\ncheckConnection()\n\nconst App = () => {\n    document.body.classList.add('landing');\n    return (\n        <Provider store={store}>\n            <Routes />\n        </Provider>\n    );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}