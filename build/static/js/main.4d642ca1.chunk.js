(this.webpackJsonpmongolia=this.webpackJsonpmongolia||[]).push([[0],{208:function(e,t,a){e.exports=a.p+"static/media/logo_all.35da1415.png"},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},219:function(e,t,a){e.exports=a.p+"static/media/nlm_logo_full_transparent.c44b13b0.png"},220:function(e,t,a){e.exports=a.p+"static/media/UB-woodblock-closeup.67ac4b0f.jpg"},229:function(e,t,a){e.exports=a(497)},231:function(e,t,a){},232:function(e,t,a){},274:function(e,t){},276:function(e,t){},308:function(e,t){},309:function(e,t){},374:function(e,t){},485:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);a(230),a(231),a(232);var n=a(0),r=a.n(n),c=a(97),l=a.n(c),s=a(1),i=a(28),o=a(55),u=a(6),m=a.n(u),d="WORKS",p="ALL",E="AUTHORS",h="SUBJECTS",f="RESULTS",v="ID",g="PAGES",b="POSTS",S="GS",y="CLEAR",_="REQUEST",w="RECEIVE",O="ERROR",T={SET_LANG:"SET_LANG",SET_PAGE:"SET_PAGE",SET_COLLAPSE:"SET_COLLAPSE",SET_MENU:"SET_MENU",SET_BROWSE:"SET_BROWSE",SET_COLLECTION:"SET_COLLECTION",SET_OFFSETS:"SET_OFFSETS",SET_MODAL:"SET_MODAL",RESET_OFFSETS:"RESET_OFFSETS",CLEAR_RESULTS:"CLEAR_RESULTS",CLEAR_FILTER_TERM:"CLEAR_FILTER_TERM",CLEAR_FILTER_ARRAY:"CLEAR_FILTER_ARRAY",DELETE_FULL_TEXT:"DELETE_FULL_TEXT",REQUEST_PAGES:"REQUEST_PAGES",RECEIVE_PAGES:"RECEIVE_PAGES",REQUEST_POSTS:"REQUEST_POSTS",RECEIVE_POSTS:"RECEIVE_POSTS",REQUEST_GS:"REQUEST_GS",RECEIVE_GS:"RECEIVE_GS",REQUEST_WORKS:"REQUEST_WORKS",RECEIVE_WORKS:"RECEIVE_WORKS",REQUEST_ALL:"REQUEST_ALL",RECEIVE_ALL:"RECEIVE_ALL",REQUEST_AUTHORS:"REQUEST_AUTHORS",RECEIVE_AUTHORS:"RECEIVE_AUTHORS",REQUEST_SUBJECTS:"REQUEST_SUBJECTS",RECEIVE_SUBJECTS:"RECEIVE_SUBJECTS",REQUEST_PLACES:"REQUEST_PLACES",RECEIVE_PLACES:"RECEIVE_PLACES",REQUEST_ID:"REQUEST_ID",RECEIVE_ID:"RECEIVE_ID",CLEAR_ID:"CLEAR_ID",REQUEST_RESULTS:"REQUEST_RESULTS",RECEIVE_RESULTS:"RECEIVE_RESULTS",ADD_TERM_TO_HISTORY:"ADD_TERM_TO_HISTORY",ADD_TERM_TO_FILTER:"ADD_TERM_TO_FILTER",SET_CURRENT_SEARCH_TERM:"SET_CURRENT_SEARCH_TERM",SET_CURRENT_FILTER_TERM:"SET_CURRENT_FILTER_TERM",SET_FILTER_ARRAY:"SET_FILTER_ARRAY",REMOVE_FILTER:"REMOVE_FILTER"},N=function(e){var t=e.actionType,a=e.asyncFunc,n="".concat(_,"_").concat(t),r="".concat(w,"_").concat(t),c="".concat(y,"_").concat(t),l="".concat(O,"_").concat(t);return function(e){return function(s){var i,o;return m.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return["ID","RESULTS"].some((function(e){return t.includes(e)}))&&s({type:c}),s({type:n}),u.prev=2,u.next=5,m.a.awrap(a(e));case 5:i=u.sent,o=i.data,s({type:r,payload:o}),u.next=13;break;case 10:u.prev=10,u.t0=u.catch(2),s((d=u.t0,{type:l,payload:d}));case 13:case"end":return u.stop()}var d}),null,null,[[2,10]])}}},R=a(133),k=a.n(R),A="http://api.asianclassics.org",j="http://localhost:5000",L="3000"===window.location.port?j:A,C=k.a.create({baseURL:L}),F="/nlm/search/_all",I="/nlm/_all",U="/nlm/_works",P="/nlm/_authors",D="/nlm/_subjects",x="/nlm/_ids",M="http://178.128.7.239/",W="wp-json/wp/v2/",G=k.a.create({baseURL:"".concat(M).concat(W)}),V="https://docs.google.com/spreadsheets/d/",B="1PPvGoikEC37L-dtigW9FEk9-IZRoalmS28HkRfaIVT4",Q="/edit?usp=sharing",H="max",z="0",Y="default.jpg",J={routerActions:{LOCATION_CHANGE:"@@router/LOCATION_CHANGE"},buildYear:"2018",defaultLanguage:"en",languages:{en:"English",mn:"Mongolian"},pages:["home","archives"],browseOptions:["Title","Author","Subject"],menuItems:[{key:"browse",label:"Browse"},{key:"search",label:"Search results"}],sectionLinks:[{key:"student",node:"personTeacherOf",icon:"fal fa-user"},{key:"teacher",node:"personStudentOf",icon:"fal fa-user-crown"},{key:"work",node:"",icon:"fal fa-book-spells"},{key:"author",node:"_creator",icon:"fal fa-user-edit"},{key:"genre",node:"workGenre",icon:"fal fa-layer-group"},{key:"subject",node:"workIsAbout",icon:"fal fa-list"}],browseItems:[{key:"works",label:"Works"},{key:"authors",label:"Authors"},{key:"subjects",label:"Subjects"}],browseTypes:["works","authors","subjects"],searchTypeOptions:[{key:"work",color:"col-blue"},{key:"topic",color:"col-blue"},{key:"subject",color:"col-dark"},{key:"person",color:"col-gold"},{key:"place",color:"col-red"}],defaultColor:"col-gold",searchOptions:{searchOffset:0,resultSetSize:10},searchTerms:["TSUL","MDZES PA DBYIG GNYEN","GUHYASAMAJA","DPAL","RGYAS PAR","LTAR","MI JOGS","NOTES","BLO BZANG GRAGS PA"],links:{wpAdmin:"http://178.128.7.239/wp-login.php",acipEmail:"mailto:info@asianclassics.org",nlmSite:"http://nationallibrary.mn/mn/"},smallScreenWidth:601,bdrGender:{"bdr:GenderMale":"Male","bdr:GenderFemale":"Female"},bdrObjectType:{"bdr:ObjectTypeBlockprint":"Blockprint"},bdrPurlURL:"http://purl.bdrc.io/resource/",collections:[{key:"1",name:"Collection 1"},{key:"2",name:"Collection 2"}],searchParams:{initialIndex:"v1_bdrc_work",initialIndexPrefix:"v1_bdrc_",type:"_doc",size:10},v1Indices:["v1_*"],v2Indices:["v2_*"],IIIFsuffix:"/".concat("full","/").concat(H,"/").concat(z,"/").concat(Y)},K=J.languages,q=function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m.a.awrap(G.get("".concat(e,"?_embed")));case 3:return t=n.sent,a=t.data.reduce((function(e,t){var a=Object.keys(K).find((function(e){return K[e]===t.acf.language}));return e[a]=e[a]||[],e[a].push(t),e}),[]),n.abrupt("return",{data:a});case 8:return n.prev=8,n.t0=n.catch(0),console.error("fetch ID error! ",n.t0),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[0,8]])},X=a(214),Z=a.n(X),$="".concat(V).concat(B).concat(Q),ee=N({actionType:p,asyncFunc:function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.awrap(C.get(I));case 3:return e=t.sent,t.abrupt("return",{data:e.data});case 7:return t.prev=7,t.t0=t.catch(0),console.error("there been fetchAll error ",t.t0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),null,null,[[0,7]])}}),te=N({actionType:d,asyncFunc:function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.offset?e.offset:0,n.prev=1,n.next=4,m.a.awrap(C.get(U,{params:{offset:t}}));case 4:return a=n.sent,n.abrupt("return",{data:a.data});case 8:return n.prev=8,n.t0=n.catch(1),console.error("there been fetchWorks error ",n.t0),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}),ae=N({actionType:E,asyncFunc:function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.offset?e.offset:0,n.prev=1,n.next=4,m.a.awrap(C.get(P,{params:{offset:t}}));case 4:return a=n.sent,n.abrupt("return",{data:a.data});case 8:return n.prev=8,n.t0=n.catch(1),console.error("there been fetchWorks error ",n.t0),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}),ne=N({actionType:h,asyncFunc:function(e){var t,a;return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.offset?e.offset:0,n.prev=1,n.next=4,m.a.awrap(C.get(D,{params:{offset:t}}));case 4:return a=n.sent,n.abrupt("return",{data:a.data});case 8:return n.prev=8,n.t0=n.catch(1),console.error("there been fetchWorks error ",n.t0),n.abrupt("return",n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,8]])}}),re=N({actionType:v,asyncFunc:function(e){var t,a,n;return m.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.charAt(4),a=JSON.stringify([e]),1,r.prev=3,r.next=6,m.a.awrap(C.get(x,{params:{ids:a,lengthIDs:1,code:t}}));case 6:return n=r.sent,r.abrupt("return",{data:n.data});case 10:return r.prev=10,r.t0=r.catch(3),console.error("fetch ID error! ",r.t0),r.abrupt("return",r.t0);case 14:case"end":return r.stop()}}),null,null,[[3,10]])}}),ce=N({actionType:f,asyncFunc:function(e){var t,a,n,r;return m.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.term?e.term:"",a=e.offset?e.offset:0,n=e.filterArray?e.filterArray:null,c.prev=3,c.next=6,m.a.awrap(C.get(F,{params:{term:t,offset:a,filterArray:n}}));case 6:return r=c.sent,c.abrupt("return",{data:r.data});case 10:return c.prev=10,c.t0=c.catch(3),console.error("there been fetchResults error ",c.t0),c.abrupt("return",c.t0);case 14:case"end":return c.stop()}}),null,null,[[3,10]])}}),le=N({actionType:S,asyncFunc:function(){var e,t;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,m.a.awrap(m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(new Promise((function(e,t){Z.a.init({key:$,callback:function(a,n){e(a.Stats.elements),t(n)}})})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}})));case 3:return e=a.sent,t={},e.forEach((function(e){var a=e.StatName.split(" ").join("");t[a]=isNaN(e.Value)?e.Value:String(e.Value).replace(/(.)(?=(\d{3})+$)/g,"$1,")})),a.abrupt("return",{data:t});case 9:return a.prev=9,a.t0=a.catch(0),console.error("error from tabletop",a.t0),a.abrupt("return",a.t0);case 13:case"end":return a.stop()}}),null,null,[[0,9]])}}),se=N({actionType:b,asyncFunc:q}),ie=N({actionType:g,asyncFunc:q}),oe=function(e){return{type:T.SET_LANG,language:e}},ue=function(e){return{type:T.SET_PAGE,page:e}},me=function(e){return{type:T.SET_MENU,menu:e}},de=function(e,t){return function(a,n){return a((r=T.ADD_TERM_TO_FILTER,c={filter:e,isActive:t},function(e){return new Promise((function(t,a){e({type:r,payload:c}),t()}))})).then((function(){var e=n(),t=e.currentSearchTerm,r=e.filterArray;a(ce({term:t,filterArray:r}))})).catch((function(e){console.log("fetch error in filter component",e)}));var r,c}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=a(17),Ee=a(21),he=a(19),fe=a(13),ve=a(18),ge=a(8),be=(a(485),a(46)),Se=(a(84),J.defaultLanguage),ye=(new ge.b)((function(e){var t=e.active,a=e.children,n=e.dispatch,c=e.lang,l=e.i18n;return r.a.createElement("li",{key:a,onClick:function(){var e;n(oe(c,l)),e=c,l.changeLanguage(e)},className:t?"lang-active":"lang"},r.a.createElement("button",{key:a,disabled:!!t,className:"btn-lang"},a))})),_e=Object(s.c)((function(e,t){return{active:t.selectedLanguage===e.selectedLanguage,lang:t.selectedLanguage||Se}}))(ye),we=(new ge.b)((function(e){var t;return t=Object.entries(e.t("languages")).map((function(t){var a=Object(be.a)(t,2),n=a[0],c=a[1],l="home"===e.page?"":"/".concat(e.page);return r.a.createElement(i.b,{key:n,to:"/".concat(n).concat(l)},r.a.createElement(_e,{key:c,selectedLanguage:n},c))})),r.a.createElement("ul",{className:"language-list"},t)})),Oe=Object(s.c)((function(e){return{page:e.selectedPage}}))(we),Te=Object(s.c)((function(e,t){return{active:t.selectedPage===e.selectedPage}}),(function(e,t){return{onClick:function(){return e(ue(t.selectedPage))}}}))((function(e){var t=e.active,a=e.children,n=e.onClick;return r.a.createElement("li",{key:a,onClick:t?null:n,className:t?"nav-active":"nav"},r.a.createElement("button",{key:a,disabled:!!t,className:"btn-nav"},a))})),Ne=a(33),Re=a.n(Ne),ke=function(e){var t=e.pages,a={alignment:"right",closeOnClick:!0,constrainWidth:!1,hover:!1,inDuration:250};return Object(n.useEffect)((function(){var e=document.querySelectorAll(".dropdown-trigger");Re.a.Dropdown.init(e,a)})),r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"dropdown-trigger btn dropdown-btn right",href:"#!","data-target":"dropdown-nav"},r.a.createElement("i",{className:"fal fa-bars"})),r.a.createElement("ul",{id:"dropdown-nav",className:"dropdown-content"},t))},Ae=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}};var je=(new ge.b)((function(e){var t=e.navigation,a=e.match,c=(e.t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t="object"===typeof window;function a(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}}var r=Object(n.useState)(a),c=Object(be.a)(r,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){if(!t)return!1;function n(){s(a())}return window.addEventListener("resize",Ae(n,e)),function(){window.removeEventListener("resize",n)}}),[]),l}().width);if(null==t)return null;console.log(t);var l=t.map((function(e){var t="home"===e.match?"":"/".concat(e.match);return r.a.createElement(i.b,{key:e.slug,to:"/".concat(a.params.lng).concat(t)},r.a.createElement(Te,{key:e.slug,selectedPage:e.match},e.nav_label))}));return c<700||t.length>2?r.a.createElement(ke,{pages:l}):r.a.createElement("ul",{className:"nav-list"},l)})),Le=Object(s.c)((function(e){return{navigation:e.WP.pages.isFetching?null:(t=e.WP.pages.items[e.selectedLanguage],t.map((function(e){return{match:e.slug.includes("-")?e.slug.split("-")[0]:e.slug,slug:e.slug,nav_label:e.acf.nav_label.length>0?e.acf.nav_label:e.slug,order:e.acf.order}})))};var t}))(je),Ce=function(e){var t=e.history,a=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("div",{className:"section header"},r.a.createElement("div",{className:"row no-margin"},r.a.createElement(Oe,null),r.a.createElement(Le,{history:t,match:a})))))},Fe=(a(488),a(208),a(219)),Ie=a.n(Fe),Ue=J.buildYear,Pe=J.links,De=Object(ge.b)()((function(e){var t=e.t;return r.a.createElement("footer",{className:"page-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m6 s12"},r.a.createElement("div",{className:"icon"},r.a.createElement("img",{src:Ie.a,height:"140px",alt:"mongolia-logo"}))),r.a.createElement("div",{className:"col m4 offset-l2 s12"},r.a.createElement("h5",{className:"white-text"},"Links"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:Pe.acipEmail,target:"_blank",rel:"noopener noreferrer"},t("footer.contact"))),r.a.createElement("li",null,r.a.createElement("a",{href:Pe.nlmSite,target:"_blank",rel:"noopener noreferrer"},t("footer.library-site"))),r.a.createElement("li",null,r.a.createElement("a",{href:Pe.wpAdmin,target:"_blank",rel:"noopener noreferrer"},t("footer.login"))))))),r.a.createElement("div",{className:"footer-copyright"},"\xa9 ","".concat(Ue," ").concat(t("title"),". ").concat(t("footer.rights"),".")))})),xe=(a(209),function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).state={active:!1},a.setStateAndFilter=function(e){var t=a.props.filterArray;a.setState({active:!t.some((function(t){return t.label===e.label}))},(function(){a.props.dispatch(de(e,a.state.active))}))},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.listItem,n=t.type,c=t.filterArray,l=(t.id,!!c.some((function(e){return e.label===a.key})));return r.a.createElement("div",{className:"flex item-filter ".concat(l?"active":""),onClick:function(){e.setStateAndFilter({type:n,label:a.key})}},r.a.createElement("div",null,r.a.createElement("span",null,a.key),r.a.createElement("span",null," (",a.doc_count,")")),l?r.a.createElement("i",{className:"fal fa-times-circle fade-up"}):null)}}]),t}(n.Component)),Me=Object(s.c)((function(e){return{filterArray:e.filterArray,currentSearchTerm:e.currentSearchTerm}}))(xe),We=function(){var e=Object(s.d)(),t=Object(s.e)((function(e){return e.filterArray})),a=Object(s.e)((function(e){return e.ES.search.items.hits.hits}));if(0===t.length||0===a.length)return null;var n=t.map((function(t){return r.a.createElement("p",{key:"list-".concat(t.label),className:"filter-".concat(t.type," with-border"),onClick:function(){return e(de(t,!1))}},t.label,r.a.createElement("i",{className:"fal fa-times-circle valign-wrapper"}))}));return r.a.createElement("div",{className:"current-filters"},n)};function Ge(e){var t={};return Object.entries(e._source).forEach((function(e){var a=Object(be.a)(e,2),n=a[0],r=a[1];r&&!Array.isArray(r)?t[n]="object"===typeof r?[r]:r:t[n]=r})),t}function Ve(e,t,a){return"search"===t?a.ES.search.items.hits.total.value:a.ES[e].items.hits.total.value}var Be=function(e){function t(e){var a;return Object(pe.a)(this,t),(a=Object(he.a)(this,Object(fe.a)(t).call(this,e))).componentDidMount=function(){var e=document.querySelectorAll(".sidenav"),t=document.querySelectorAll(".collapsible");Re.a.Sidenav.init(e,a.state.sidenavOptions),Re.a.Collapsible.init(t,a.state.collapsibleOptions)},a.componentDidUpdate=function(){var e=document.querySelectorAll(".sidenav");Re.a.Sidenav.init(e,a.state.sidenavOptions)},a.buildFilters=function(e,t){return 0===t.buckets.length?null:r.a.createElement("li",{key:e,className:e},r.a.createElement("div",{className:"collapsible-header"},e,r.a.createElement("i",{className:"fal fa-chevron-double-down right fade-up"})),r.a.createElement("div",{className:"collapsible-body"},t.buckets.map((function(t,a){return r.a.createElement(Me,{key:t.key,listItem:t,type:e})}))))},a.state={sidenavOptions:{edge:"left",inDuration:250},collapsibleOptions:{accordion:!1},screenWidth:0},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.t,t.filters);return 0===Object.entries(a)?null:r.a.createElement(r.a.Fragment,null,Object.entries(a).map((function(t){var a=Object(be.a)(t,2),n=a[0],r=a[1];return e.buildFilters(n,r)})))}}]),t}(n.Component),Qe=(new ge.b)(Be),He=Object(s.c)((function(e){return{filters:e.ES.search.aggregations,results:e.ES.search.items.hits.hits,currentSearchTerm:e.currentSearchTerm,filterArray:e.filterArray,total:Ve(e.selectedBrowse,e.selectedMenu,e)}}))(Qe),ze=J.browseTypes,Ye=function(e){var t=e.item,a=Object(s.d)(),n=Object(s.e)((function(e){return e.selectedBrowse})),c=Object(s.e)((function(e){return Ve(t,"browse",e)}));console.log("total from selector",c);var l=!(n!==t);return r.a.createElement("div",{className:"flex item-filter ".concat(l?"active":""),onClick:function(){a({type:"SET_BROWSE",payload:t})}},r.a.createElement("div",null,"".concat(t," (").concat(c,")")))},Je=function(){var e=ze.map((function(e){return r.a.createElement(Ye,{key:e,item:e})}));return r.a.createElement("li",{className:"active"},r.a.createElement("div",{className:"collapsible-header"},"Browse By",r.a.createElement("i",{className:"fal fa-chevron-double-down right fade-up"})),r.a.createElement("div",{className:"collapsible-body"},e))},Ke=J.smallScreenWidth,qe=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(c)))).state={sidenavOptions:{edge:"left",inDuration:250},collapsibleOptions:{accordion:!1},screenWidth:0},a.componentDidMount=function(){var e=document.querySelectorAll(".sidenav"),t=document.querySelectorAll(".collapsible");Re.a.Sidenav.init(e,a.state.sidenavOptions),Re.a.Collapsible.init(t,a.state.collapsibleOptions),a.setState({screenWidth:window.innerWidth}),window.addEventListener("resize",a.updateWindowDimensions)},a.componentDidUpdate=function(){var e=document.querySelectorAll(".sidenav");Re.a.Sidenav.init(e,a.state.sidenavOptions)},a.updateWindowDimensions=function(){a.setState({screenWidth:window.innerWidth})},a.renderFilters=function(e){var t=a.props,n=t.menu,c=t.t,l=t.total;return"search"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("div",{className:"user-view"},r.a.createElement("div",{className:"sidenav-title"},r.a.createElement("p",{className:"sidebar-filter-text"},"".concat(c("sidebar.results-filter")," "),r.a.createElement("i",{className:"fal fa-filter"}))),e?r.a.createElement("div",null,"Currently showing ".concat(l," results")):null)),r.a.createElement(He,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("div",{className:"user-view"},r.a.createElement("div",{className:"sidenav-title"},r.a.createElement("p",{className:"sidebar-text"},r.a.createElement("i",{className:"fad fa-book-open fa-2x"}),"To begin, use the search bar above or browse our listings")),e?r.a.createElement("div",null,"Currently showing ".concat(l," results")):null)),r.a.createElement(Je,null))},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e,t=this.props,a=t.filters,n=(t.filterArray,t.results),c=t.menu;if(0===Object.entries(a))return null;var l="",s=null,i="Choose Browse",o=null,u="";return"search"===c&&(i="Filter Results",0===n.length&&(u="disabled")),this.state.screenWidth<Ke&&(l="sidenav",s=r.a.createElement("a",{className:"".concat(u," btn dropdown-btn left sidenav-trigger show-on-large valign-wrapper"),"data-target":"filter-slide-out",href:"#!"},r.a.createElement("i",{className:"fal fa-arrow-right"})," ",i),o=r.a.createElement("li",null,r.a.createElement("a",{className:"sidenav-close",href:"#!"},r.a.createElement("i",{className:"fal fa-times"}))),e=!0),r.a.createElement(r.a.Fragment,null,s,r.a.createElement("ul",{id:"filter-slide-out",className:"".concat(l," collapsible")},o,this.renderFilters(e)))}}]),t}(n.Component);var Xe=(new ge.b)(qe),Ze=Object(s.c)((function(e){return{filters:e.ES.search.aggregations,menu:(t=e.selectedMenu,a=e.selectedBrowse,"search"===t?"search":a),results:e.ES.search.items.hits.hits,currentSearchTerm:e.currentSearchTerm,filterArray:e.filterArray,total:Ve(e.selectedBrowse,e.selectedMenu,e)};var t,a}))(Xe),$e=(a(210),J.searchTypeOptions),et=J.defaultColor;var tt=function(e){var t=e.data,a=e.idx,n=e.match,c=e.handleShowDetails,l=function(e){var t="Topic"===e?"Subject":e;return Array.isArray(t)?t.includes("Work")?"Work":"Unknown":t}(t._source.type),s=function(e){var t=$e.find((function(t){return t.key===e.toLowerCase()}));return t?t.color:et}(l),o=n.params.lng;return r.a.createElement(i.b,{to:{pathname:"/".concat(o,"/archives/doc/").concat(t._id),state:{label:t._source._label,modalID:t._id}},className:"item-title card-item-link",onClick:function(){return c(t._id)}},r.a.createElement("div",{key:a,className:"card grey lighten-3 "},r.a.createElement("div",{className:"card-content blue-grey-text darken-4"},r.a.createElement("p",{className:"meta-items"},r.a.createElement("span",{className:"card-type ".concat(s," meta-item")},l)," ",r.a.createElement("span",{className:"meta-item result-id"},t._id)),r.a.createElement("p",{className:"result-label"},t._source._label))))};var at=(new ge.b)((function(e){var t,a,n=e.match,c=e.t,l=(Object(s.d)(),function(e){}),i=Object(s.e)((function(e){return e.selectedMenu})),o=Object(s.e)((function(e){return e.selectedBrowse})),u=(t=o,a=i,Object(s.e)((function(e){return"search"===a?e.ES.search:e.ES[t]}))),m=u.items.hits.hits;if(0===m.length){if(u.isFetching)return r.a.createElement("div",{key:"fetching",className:"card grey lighten-3 hoverable"},r.a.createElement("div",{className:"card-content blue-grey-text darken-4"},r.a.createElement("div",{className:"blinky"},c("technical.loading-simple")," ",c("browse.".concat(i,"-plural")))));if(!u.isFetching)return r.a.createElement("div",{key:"no-results",className:"card grey lighten-3 hoverable"},r.a.createElement("div",{className:"card-content blue-grey-text darken-4"},"NO RESULTS"))}var d=m.map((function(e,t){return r.a.createElement(tt,{key:t,data:e,idx:t,handleShowDetails:l,match:n})}));return r.a.createElement(r.a.Fragment,null,d)})),nt=(a(211),function(e){var t=e.option,a=e.handleClick,n=e.current===t.key?"active":"";return r.a.createElement("li",{key:t.key,className:"tab col s3",style:{display:"inline-block"}},r.a.createElement("a",{className:n,onClick:function(){return a(t)},href:"#".concat(t.key)},t.label))}),rt=J.menuItems,ct=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){a.props.setMenu(e.key)},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"componentDidMount",value:function(){Re.a.Tabs.init(this.Tabs,{duration:400})}},{key:"render",value:function(){var e=this;return r.a.createElement("ul",{ref:function(t){e.Tabs=t},className:"tabs"},rt.map((function(t){return r.a.createElement(nt,{key:t.key,option:t,handleClick:e.handleClick,current:e.props.menu})})))}}]),t}(n.Component),lt=(new ge.b)(ct),st=Object(s.c)((function(e){return{total:Ve(e.selectedBrowse,e.selectedMenu,e),menu:e.selectedMenu,currentSearch:e.ES.search.currentSearch}}),{setMenu:me})(lt),it=function(e){var t=e.match,a=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col m4 l3 col-white no-padding"}),r.a.createElement("div",{className:"col s12 m8 l9 no-padding"},r.a.createElement(st,null))),r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col m4 l3 side-nav"},r.a.createElement("div",{className:"pad-it"},r.a.createElement("div",{className:"sidenav-sections"},r.a.createElement(Ze,null)))),r.a.createElement("div",{className:"col s12 m8 l9 search-section"},r.a.createElement(at,{match:t,history:a}))))},ot=(a(489),a(220)),ut=a.n(ot),mt=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){a.props.dispatch({type:"SET_PAGE",page:"archives"})},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.stats,n=t.t,c=t.match,l=t.selectedPage,s=c.params.lng;return"home"!==l?null:(e=0===Object.entries(a).length&&a.constructor===Object?r.a.createElement("div",{className:"blinky"},n("technical.loading")):r.a.createElement("ul",{className:"list-stats"},r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.LastUpdate"),": ",r.a.createElement("em",null,a.LastUpdate))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.PagesDigitized"),":"," ",r.a.createElement("em",null,a.PagesDigitized))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.VolumesDigitized"),":"," ",r.a.createElement("em",null,a.VolumesDigitized))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.VolumesCataloged"),":"," ",r.a.createElement("em",null,a["VolumesCataloged(normalized)"]))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.TitlesCataloged"),":"," ",r.a.createElement("em",null,a["TitlesCataloged(ACIP)"])))),r.a.createElement("div",{className:"row flex no-margin stats-row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("h2",null,n("stats.Title")),e),r.a.createElement("div",{className:"col s12 m6 valign-wrapper"},r.a.createElement("span",{className:"image down-push-s"},r.a.createElement(i.b,{to:{pathname:"/".concat(s,"/archives")},className:"item-link",onClick:this.handleClick},r.a.createElement("img",{className:"img-link",src:ut.a,alt:""}),r.a.createElement("div",{className:"content"},"Search the archives"))))))}}]),t}(n.Component),dt=(new ge.b)(mt),pt=Object(s.c)((function(e){return{stats:e.GS.isFetching?{}:e.GS.items,selectedPage:e.selectedPage}}))(dt),Et=(a(490),a(69)),ht=a.n(Et),ft=a(60),vt=a(98),gt=a(226);Object(gt.a)(Set);function bt(e,t,a){var n=[],r=!0,c=!1,l=void 0;try{for(var s,i=function(){var r=s.value;n.some((function(e){return e.label===r.label}))?e.filter((function(e){return e.label!==r.label})):t||a!==r.label?n.push(r):e.filter((function(e){return e.label!==r.label}))},o=e[Symbol.iterator]();!(r=(s=o.next()).done);r=!0)i()}catch(u){c=!0,l=u}finally{try{r||null==o.return||o.return()}finally{if(c)throw l}}return n}var St=function(e){var t={boolean:{},number:{},string:{}},a=[];return e.filter((function(e){var n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(a.indexOf(e)>=0)&&a.push(e)}))},yt=Object(s.c)((function(e){return{fetchingPosts:e.WP.posts.isFetching,selectedLanguage:e.selectedLanguage,selectedPage:e.selectedPage,posts:e.WP.posts.isFetching?[]:(t="acf",a="order",n=e.WP.posts.items[e.selectedLanguage],n.sort((function(e,n){return e[t][a]<n[t][a]?-1:e[t][a]>n[t][a]?1:0})))};var t,a,n}))((function(e){var t=e.posts,a=e.selectedPage;return t&&"home"===a?t.map((function(e,t){var a="";return e._embedded["wp:featuredmedia"]&&(a=e._embedded["wp:featuredmedia"][0].source_url||""),2===parseInt(e.acf.columns)?r.a.createElement("div",{key:t,className:"row"},r.a.createElement("div",{className:"col s12 posts-col"},r.a.createElement("h2",null,e.acf.title),r.a.createElement("div",{className:"row flex"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("span",{className:"image left"},r.a.createElement("img",{src:a,alt:""}))),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("p",{className:"down-push",dangerouslySetInnerHTML:{__html:e.content.rendered}}))),r.a.createElement("div",{className:"divider-with-logo"},r.a.createElement("div",{className:"hr-line-left"}),r.a.createElement("img",{src:ht.a,width:"24px",alt:"logo"}),r.a.createElement("div",{className:"hr-line-right"})))):r.a.createElement("div",{key:t,className:"row"},r.a.createElement("div",{className:"col s12 posts-col"},r.a.createElement("h2",null,e.acf.title),r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:a,alt:""})),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}}),r.a.createElement("div",{className:"divider-with-logo"},r.a.createElement("div",{className:"hr-line-left"}),r.a.createElement("img",{src:ht.a,width:"24px",alt:"logo"}),r.a.createElement("div",{className:"hr-line-right"}))))})):null})),_t=(a(491),J.defaultLanguage),wt=function(e){function t(e){var a;return Object(pe.a)(this,t),(a=Object(he.a)(this,Object(fe.a)(t).call(this,e))).renderContent=function(e){return 2===parseInt(e.acf.columns)?r.a.createElement("div",{key:e.slug,className:"row"},r.a.createElement("div",{className:"col s12 posts-col"},r.a.createElement("h2",null,e.acf.title),r.a.createElement("div",{className:"row flex"},r.a.createElement("div",{className:"col s12 m6"}),r.a.createElement("div",{className:"col s12 m6"},r.a.createElement("p",{className:"down-push",dangerouslySetInnerHTML:{__html:e.content.rendered}}))),r.a.createElement("div",{className:"divider-with-logo"},r.a.createElement("div",{className:"hr-line-left"}),r.a.createElement("img",{src:ht.a,width:"24px",alt:"logo"}),r.a.createElement("div",{className:"hr-line-right"})))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{key:e.slug,className:"row"},r.a.createElement("div",{className:"col s12 posts-col"},r.a.createElement("h2",null,e.title.rendered),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}}),r.a.createElement("div",{className:"divider-with-logo"},r.a.createElement("div",{className:"hr-line-left"}),r.a.createElement("img",{src:ht.a,width:"24px",alt:"logo"}),r.a.createElement("div",{className:"hr-line-right"})))))},a.resetPage=function(){a.props.dispatch({type:"SET_PAGE",page:"home"}),a.props.i18n.changeLanguage(_t),a.props.dispatch(oe(_t))},a.setNumber={0:"one",1:"one",2:"two",3:"three",4:"four"},a.rgbLight=[239,239,239],a.rgbDark=[0,0,0],a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"renderPage",value:function(e,t){var a=this;return t.some((function(t){return t.slug.split("-")[0]===e}))||(console.log("page not there"),this.resetPage()),t.filter((function(t){return t.slug.split("-")[0]===e})).map((function(t,n){var c=null;return t._embedded["wp:featuredmedia"]&&(c=t._embedded["wp:featuredmedia"][0].source_url),r.a.createElement(r.a.Fragment,{key:t.id},r.a.createElement("section",{id:"banner",style:{backgroundImage:"linear-gradient(to bottom, rgba(245, 246, 252, 0.52), rgba(117, 19, 93, 0.73)), url(".concat(c,")"),backgroundSize:"cover"}},r.a.createElement("header",{className:"major"},r.a.createElement("h1",null,t.acf.title),r.a.createElement("div",{className:"divider"}),r.a.createElement("h3",null,t.acf.subtitle))),"home"!==e?a.renderContent(t):null)}))}},{key:"render",value:function(){return this.props.fetchingWP?r.a.createElement("div",{className:"blinky"},this.props.t("technical.loading")):"archives"===this.props.selectedPage?null:r.a.createElement(r.a.Fragment,null,this.renderPage(this.props.selectedPage,this.props.pages))}}]),t}(n.Component),Ot=(new ge.b)(wt),Tt=Object(s.c)((function(e){return{fetchingWP:e.WP.pages.isFetching||e.WP.posts.isFetching,selectedLanguage:e.selectedLanguage||_t,selectedPage:e.WP.pages.isFetching?[]:e.WP.pages.items[e.selectedLanguage].some((function(t){return t.slug.split("-")[0]===e.selectedPage}))?e.selectedPage:"home",pages:e.WP.pages.isFetching?[]:e.WP.pages.items[e.selectedLanguage]}}))(Ot),Nt=(a(492),function(e){var t=e.section,a=e.label;return"object"!==typeof t||null===t||Array.isArray(t)||(t=[t]),Array.isArray(t)?t.map((function(e){return"@value"in e?r.a.createElement("div",{key:"".concat(e["@language"],"_").concat(e["@value"])},e["@value"]):"_value"in e?r.a.createElement("div",{key:e._id},r.a.createElement("span",{className:"span-title"},a),r.a.createElement("span",null,r.a.createElement(i.b,{to:{pathname:"/en/archives/doc/bdr:".concat(e._id),state:{label:e._value,modalID:e._id}},className:"span-title card-item-link"},e._value))):void 0})):null}),Rt=J.sectionLinks;var kt=function(e){var t=e.section,a=e.label,c=e.convert,l=Rt.find((function(e){return e.key===a.toLowerCase()}));Object(n.useEffect)((function(){var e=document.querySelectorAll(".collapsible");Re.a.Collapsible.init(e)}));var s=null;if(c&&(s=function(e){return e.map((function(e){return{_id:"bdr"===e._id.substring(0,3)?e._id.substring(4):e._id,_value:e._source._label}}))}(t),t=s),Array.isArray(t)){var o=t.map((function(e){return"@value"in e?r.a.createElement("div",{key:"".concat(e["@language"],"_").concat(e["@value"])},e["@value"]):"_value"in e?r.a.createElement(i.b,{key:e._id,to:{pathname:"/en/archives/doc/bdr:".concat(e._id),state:{label:e._value,modalID:e._id}},className:"span-title card-item-link ".concat(a)},r.a.createElement("i",{className:l.icon}),e._value):void 0})),u=o.length>1?"".concat(a,"s"):a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"collapsible details-sections"},r.a.createElement("li",{className:"active ".concat(a)},r.a.createElement("div",{className:"collapsible-header"},u,r.a.createElement("i",{className:"fal fa-chevron-double-down right fade-up"})),r.a.createElement("div",{className:"collapsible-body"},o))))}return null},At=J.sectionLinks,jt=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var c=a.map((function(t){var a=At.find((function(e){return e.key===t}));return r.a.createElement(kt,{key:t,label:t,section:e[a.node]})}));return r.a.createElement(r.a.Fragment,null,c)},Lt=J.IIIFsuffix,Ct=function(e){var t=e.t,a=e._img,c=e._manifestURL,l=Object(n.useState)(!1),s=Object(be.a)(l,2),i=s[0],o=s[1];Object(n.useEffect)((function(){var e=setTimeout((function(){return o(!0)}),3e3);return function(){return clearTimeout(e)}}),[]);var u=c?"/uv.html?manifest="+c:null;return"Not Found"===a?r.a.createElement("div",null,t("details.image-not-found")):null==a?i?r.a.createElement("div",null,t("details.image-not-found")):r.a.createElement("div",{className:"blinky"},t("technical.loading-image")):u?r.a.createElement("a",{className:"image item-link",href:u,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"img-link",src:"".concat(a,"/").concat(Lt),width:"100%",alt:"scan"}),r.a.createElement("div",{className:"content"},"View Scans"),r.a.createElement("i",{className:"reverse-content fal fa-eye"})):r.a.createElement("img",{src:"".concat(a,"/").concat(Lt),width:"100%",alt:"scan"})};function Ft(e,t,a,n){var c=e.workNumberOfVolumes,l=e.workBiblioNote,s=e.workExtentStatement,i=e.workLangScript,o=e.workPublisherName,u=e._manifestURL,m=e._firstImageURL,d=c||null,p=l?r.a.createElement(Nt,{label:"biblio",section:l}):null,E=o?r.a.createElement(Nt,{label:"publisher",section:o}):null,h=jt(e,"author","subject","genre");return r.a.createElement(r.a.Fragment,null,p?r.a.createElement("div",{className:"meta-detail attribution"},r.a.createElement("div",{className:"meta-item"},r.a.createElement("span",null,p))):null,r.a.createElement(Ct,{t:a,_img:m,_manifestURL:u}),r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col s12 m8 bottom-items"},r.a.createElement("ul",{className:"meta-detail-list"},d?r.a.createElement("li",{className:"meta-item all-caps"},"Number of Volumes: ",d):null,E?r.a.createElement("li",{className:"meta-item all-caps"},a("details.meta-published-by"),":"," ",r.a.createElement("span",{className:"no-trans"},E)):null,s?r.a.createElement("li",{className:"meta-item all-caps"},a("details.meta-work-extent"),":"," ",r.a.createElement("span",{className:"no-trans"},s,", in"," ",c," volume(s)")):null,i?r.a.createElement("li",{className:"meta-item all-caps"},a("details.meta-language"),":"," ",r.a.createElement("span",{className:"no-trans"},i)):null),n),h?r.a.createElement("div",{className:"col s12 m4 explore-items with-border"},r.a.createElement("p",{className:"title"},"Explore further"),h):null))}function It(e,t,a,n){var c=t.hits.total>0?r.a.createElement(kt,{label:"work",section:t.hits.hits,convert:!0}):null,l=jt(e,"teacher","student");return r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col s12 m8 bottom-items"},c,n),l?r.a.createElement("div",{className:"col s12 m4 explore-items with-border"},r.a.createElement("p",{className:"title"},"Explore further"),l):null)}function Ut(e,t,a,n){var c=t.hits.total>0?r.a.createElement(kt,{label:"work",section:t.hits.hits,convert:!0}):null,l=jt(e,"teacher","student");return r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col s12 m8 bottom-items"},c,n),l?r.a.createElement("div",{className:"col s12 m4 explore-items with-border"},r.a.createElement("p",{className:"title"},"Explore further"),l):null)}function Pt(e,t,a,n){var c=t.hits.total>0?r.a.createElement(kt,{label:"work",section:t.hits.hits,convert:!0}):null;return r.a.createElement("div",{className:"row flex no-margin"},r.a.createElement("div",{className:"col s12 m7 bottom-items"},n),c?r.a.createElement("div",{className:"col s12 m5 explore-items with-border"},r.a.createElement("p",{className:"title"},"Explore further"),c):null)}var Dt=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==t)return null;Array.isArray(t)?t.forEach((function(t){if("object"===typeof t)return e(t,a,n)})):"object"===typeof t&&"@value"in t&&(t["@value"].toLowerCase().includes("nlmid")?n.push(t["@value"]):a.push(t["@value"]));var r=n.find((function(e){return e.toLowerCase().includes("nlmid")}));return{parsedNotes:a.sort(),nlmIDs:null==r?null:r}};var xt=J.bdrGender,Mt=function(e,t){var a=null==e?null:"".concat(t("gender.gender"),": ").concat(t("gender.gender-".concat(xt[e])));if(a)return r.a.createElement("div",{className:"meta-detail"},r.a.createElement("p",{className:"meta-item"},r.a.createElement("span",null,a)))},Wt=function(e,t,a){var n=[];if(t&&n.push(r.a.createElement(Nt,{key:"mother",label:"Mother",section:t})),e&&n.push(r.a.createElement(Nt,{key:"father",label:"Father",section:e})),t||e||!a||(n.push(r.a.createElement("div",null,"Parents")),a.map((function(e,t){n.push(r.a.createElement(Nt,{key:"parent_".concat(t),label:"Parent",section:e}))}))),n.length>0)return r.a.createElement("div",{className:"meta-detail parents"},n)};var Gt=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleBackButton=function(e,t){t.preventDefault();var n=a.props.match.params;n.lang,n.id;a.props.history.goBack(),t.stopPropagation()},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"render",value:function(){var e=this,t=this.props.show?"modal display-block":"modal display-none",a=this.props,n=a.itemDetail,c=a.itemRelated,l=a.t,s=a.match;if(!n)return null;var i,o,u,m=n._notes,d=n.workCatalogInfo,p=n._label,E=s.params.id,h=null;"W"===E[4]?(i=Ft,u=d?r.a.createElement("div",{className:"meta-catalog"},r.a.createElement("div",{className:"modal-text"},r.a.createElement("span",{className:"meta-title"},r.a.createElement(Nt,{label:"catalog",section:d})))):null,o=r.a.createElement(r.a.Fragment,null,u)):"P"===E[4]?(i=It,h=function(e,t){var a=e.personGender,n=e.hasFather,c=e.hasMother,l=e.hasParent,s=Mt(a,t),i=Wt(n,c,l);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,s),r.a.createElement("div",null,i))}(n,l)):"T"===E[4]?i=Pt:"G"===E[4]&&(i=Ut);var f=function(e){var t=null,a=null;if(e){var n=Dt(e);t=n.parsedNotes,a=n.nlmIDs}return{notes:t=(t=t&&t.length?St(t):null)&&t.length?r.a.createElement("div",{className:"meta-grouping"},t.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("p",{className:"meta-item with-fa-note"},e))}))):null,nlmIDs:a}}(m),v=f.notes,g=function(e,t,a){return r.a.createElement("div",{className:"meta-detail"},r.a.createElement("p",{className:"meta-item"},r.a.createElement("span",null,e("details.detail")," ",t,","," "),r.a.createElement("span",null," ",e("bdrc-ontology-code.".concat(t[4])))),null==a?null:r.a.createElement("p",{className:"meta-item"},r.a.createElement("span",null,"NLM ID: ",a.substring(7).trim())))}(l,E,f.nlmIDs),b=r.a.createElement("button",{className:"modal-btn with-border",onClick:function(t){return e.handleBackButton(e.props.initialRender,t)}},r.a.createElement("i",{className:"fa fa-2x fa-times"}),r.a.createElement("span",null,this.props.initialRender?l("technical.btn-view"):l("technical.btn-close")));return r.a.createElement("div",{className:t},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",{className:"details-container"},r.a.createElement("div",{className:"details-abs-container"},r.a.createElement("div",{className:"back-btn",onClick:function(t){return e.handleBackButton(e.props.initialRender,t)}},r.a.createElement("i",{className:"icon fal fa-long-arrow-left fa-2x"}))),r.a.createElement("div",{className:"detail-data"},r.a.createElement("div",{className:"detail-top-section with-border"},o,g,h),r.a.createElement("div",{className:"modal-title"},p),i(n,c,l,v),b))))}}]),t}(n.Component),Vt=Object(ge.b)()(Gt),Bt=Object(s.c)((function(e){return{show:e.setModal,itemDetail:0===e.ES.id.items.hits.hits.length?[]:Ge(e.ES.id.items.hits.hits[0]),itemRelated:e.ES.id.related}}))(Vt),Qt=J.searchOptions,Ht=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).state={term:a.props.currentSearchTerm,offsetCurrent:0,offsetSize:Qt.resultSetSize,initialLoad:!0},a.handleNext=function(){var e=null,t=null,n=a.props.offsets[a.props.menu];a.props.total>n+Qt.resultSetSize&&(n+=Qt.resultSetSize,"search"===a.props.menu?(e=a.props.fetchResultsAction,t={term:a.state.term,offset:n}):"works"===a.props.menu?(e=a.props.fetchWorksAction,t={offset:n}):"authors"===a.props.menu?(e=a.props.fetchAuthorsAction,t={offset:n}):"subjects"===a.props.menu&&(e=a.props.fetchSubjectsAction,t={offset:n}),e(t),a.props.setOffsets(a.props.menu,n))},a.handlePrev=function(){var e=null,t=[],n=a.props.offsets[a.props.menu];n-Qt.resultSetSize>=0?(n-=Qt.resultSetSize,"search"===a.props.menu?(e=a.props.fetchResultsAction,t={term:a.state.term,offset:n}):"works"===a.props.menu?(e=a.props.fetchWorksAction,t={offset:n}):"authors"===a.props.menu?(e=a.props.fetchAuthorsAction,t={offset:n}):"subjects"===a.props.menu&&(e=a.props.fetchSubjectsAction,t={offset:n}),e(t),a.props.setOffsets(a.props.menu,n)):a.props.setOffsets(a.props.menu,0)},a.handleChange=function(e){e.preventDefault(),a.setState({term:e.target.value})},a.handleSearch=function(e){e.preventDefault();var t=a.props,n=t.resetOffsets,r=t.clearFilterArray,c=t.addTermToHistory,l=t.setCurrentSearchTerm;(0,t.setMenu)("search"),n(),r(),l(a.state.term),c(a.state.term),a.props.fetchResultsAction({term:a.state.term,offset:0})},a.setUpControls=function(){var e=a.props.offsets[a.props.menu],t=a.props.total,n=e+Qt.resultSetSize>t?t:e+Qt.resultSetSize;return{disableNext:t<=e+Qt.resultSetSize||a.props.currentlyFetchingResults,disablePrev:t<=Qt.resultSetSize||e<=0||a.props.currentlyFetchingResults,paginationMsg:t>0?'Showing <span className="boldy">'.concat(e+1," to ").concat(n," </span> of ").concat(t):"&nbsp;"}},a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"render",value:function(){var e=this,t=this.setUpControls(),a=t.disableNext,n=t.disablePrev,c=t.paginationMsg;return r.a.createElement("div",{className:"search-form col"},r.a.createElement("div",{className:"search-ctl"},r.a.createElement("label",{htmlFor:"search-input"},"Search"),r.a.createElement("input",{id:"search-input",className:"search-input",autoFocus:!0,type:"text",value:this.state.term,onChange:function(t){return e.handleChange(t)},onKeyDown:function(t){return"Enter"===t.key?e.handleSearch(t):null}})),r.a.createElement(We,null),r.a.createElement("button",{className:"waves-effect waves-light btn",disabled:this.props.currentlyFetchingResults,onClick:function(t){return e.handleSearch(t)}},this.props.currentlyFetchingResults?"Searching":"Search"),r.a.createElement("div",{className:"result-pagination"},r.a.createElement("button",{className:"waves-effect waves-light btn",disabled:n,onClick:this.handlePrev},"PREV"),r.a.createElement("button",{className:"waves-effect waves-light btn",disabled:a,onClick:this.handleNext},"NEXT")),r.a.createElement("div",{className:"result-pagination-msg",dangerouslySetInnerHTML:{__html:c}}))}}]),t}(n.Component);function zt(e,t){return!(!t.ES[e].isFetching&&!t.ES.search.isFetching)}var Yt=(new ge.b)(Ht),Jt=Object(s.c)((function(e){return{offsets:e.offsets,menu:(t=e.selectedMenu,a=e.selectedBrowse,"search"===t?"search":a),total:Ve(e.selectedBrowse,e.selectedMenu,e),currentlyFetchingResults:zt(e.selectedBrowse,e),filterArray:e.filterArray,currentSearchTerm:e.currentSearchTerm};var t,a}),{resetOffsets:function(){return{type:T.RESET_OFFSETS}},addTermToHistory:function(e){return{type:T.ADD_TERM_TO_HISTORY,term:e}},setCurrentSearchTerm:function(e){return{type:T.SET_CURRENT_SEARCH_TERM,payload:e}},clearFilterArray:function(){return{type:T.CLEAR_FILTER_ARRAY}},fetchResultsAction:ce,fetchWorksAction:te,fetchAuthorsAction:ae,fetchSubjectsAction:ne,setMenu:me,setOffsets:function(e,t){return{type:T.SET_OFFSETS,offsetType:e,offset:t}}})(Yt),Kt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row no-margin valign-wrapper nav-sub"},r.a.createElement("div",{className:"col s2 m3 center-align"},r.a.createElement("i",{className:"fad fa-search search-form-icon"})),r.a.createElement("div",{className:"col s10 m9"},r.a.createElement(Jt,null))))},qt=J.languages,Xt=J.defaultLanguage,Zt=function(e){function t(){var e,a;Object(pe.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(he.a)(this,(e=Object(fe.a)(t)).call.apply(e,[this].concat(r)))).previousLocation=a.props.location,a.l=Object.keys(qt).map((function(e){return e})).join("|"),a}return Object(ve.a)(t,e),Object(Ee.a)(t,[{key:"componentDidMount",value:function(){this.generalCheckAndUpdate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;"POP"!==e.history.action&&(this.previousLocation=t),this.generalCheckAndUpdate()}},{key:"generalCheckAndUpdate",value:function(){var e=this.props,t=e.history,a=e.dispatch,n=(e.t,t.location.pathname);n.split("/")[2]?a(ue(n.split("/")[2])):a(ue("home")),n.split("/")[1]in qt?a(oe(n.split("/")[1])):(a(oe(Xt)),a(ue("home")),t.push(Xt))}},{key:"render",value:function(){var e=this,t=this.props.location===this.previousLocation;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.b,{path:"/:lng(".concat(this.l,")"),component:Ce}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/:lng(".concat(this.l,")/archives/doc/:id"),render:function(a){var n=a.match,c=a.history,l=e.props.location.state?e.props.location.state.label:null;return e.props.dispatch(re(n.params.id)),e.props.dispatch({type:"SET_MODAL",payload:!0}),r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{show:!0,match:n,history:c,label:l,modalID:n.params.id,previousLocation:e.previousLocation,initialRender:t}))}}),r.a.createElement(o.b,{exact:!0,path:"/:lng(".concat(this.l,")/archives"),render:function(e){var t=e.match,a=e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main"},r.a.createElement(Kt,null),r.a.createElement(it,{match:t,history:a})))}}),r.a.createElement(o.b,{path:"/:lng(".concat(this.l,")/:page"),render:function(e){var t=e.history;return r.a.createElement(Tt,{history:t})}}),r.a.createElement(o.b,{exact:!0,path:"/:lng(".concat(this.l,")"),render:function(e){var t=e.history,a=e.match;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Tt,{history:t}),r.a.createElement(pt,{match:a}),r.a.createElement("div",{className:"container"},r.a.createElement(yt,null)))}}),r.a.createElement(o.b,{render:function(){return r.a.createElement(o.a,{selectedPage:"home",to:"/en"})}})),r.a.createElement(De,null))}}]),t}(n.Component),$t=(new ge.b)(Zt),ea=Object(s.c)()($t),ta=a(54),aa=a(221),na=(a(493),a(224)),ra=a(2),ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.REQUEST_PAGES:return Object(ra.a)({},e,{pages:Object(ra.a)({},e.pages,{isFetching:!0})});case T.RECEIVE_PAGES:return Object(ra.a)({},e,{pages:Object(ra.a)({},e.pages,{isFetching:!1,items:t.payload,lastUpdated:Date.now()})});case T.REQUEST_POSTS:return Object(ra.a)({},e,{posts:Object(ra.a)({},e.posts,{isFetching:!0})});case T.RECEIVE_POSTS:return Object(ra.a)({},e,{posts:Object(ra.a)({},e.posts,{isFetching:!1,items:t.payload,lastUpdated:Date.now()})});default:return e}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.REQUEST_GS:return Object(ra.a)({},e,{isFetching:!0});case T.RECEIVE_GS:return Object(ra.a)({},e,{isFetching:!1,items:t.payload,lastUpdated:Date.now()});default:return e}},sa={ES:{works:{isFetching:!1,items:{hits:{total:{value:0},hits:[]}},lastUpdated:null},authors:{isFetching:!1,items:{hits:{total:{value:0},hits:[]}},lastUpdated:null},subjects:{isFetching:!1,items:{hits:{total:{value:0},hits:[]}},lastUpdated:null},search:{isFetching:!1,currentSearch:!1,items:{hits:{total:{value:0},hits:[]}},aggregations:{},lastUpdated:null},id:{isFetching:!1,items:{hits:{total:{value:0},hits:[]}},related:{hits:{total:{value:0},hits:[]}}}},menu:"browse",browse:"works",offsets:{works:0,authors:0,subjects:0,search:0,places:0},filterArray:[]},ia=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa.ES,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.REQUEST_RESULTS:return Object(ra.a)({},e,{search:Object(ra.a)({},e.search,{isFetching:!0,currentSearch:!1})});case T.REQUEST_ID:return Object(ra.a)({},e,{id:Object(ra.a)({},e.id,{isFetching:!0})});case T.REQUEST_WORKS:return Object(ra.a)({},e,{works:Object(ra.a)({},e.works,{isFetching:!0})});case T.REQUEST_AUTHORS:return Object(ra.a)({},e,{authors:Object(ra.a)({},e.authors,{isFetching:!0})});case T.REQUEST_SUBJECTS:return Object(ra.a)({},e,{subjects:Object(ra.a)({},e.subjects,{isFetching:!0})});case T.REQUEST_ALL:return Object(ra.a)({},e,{works:Object(ra.a)({},e.works,{isFetching:!0}),authors:Object(ra.a)({},e.authors,{isFetching:!0}),subjects:Object(ra.a)({},e.subjects,{isFetching:!0})});case T.RECEIVE_RESULTS:return Object(ra.a)({},e,{search:Object(ra.a)({},e.search,{isFetching:!1,currentSearch:!0,error:!1,errorStatus:null,items:{hits:t.payload.RESULTS},aggregations:Object.keys(t.payload.AGGS).sort().reduce((function(e,a){return e[a]=t.payload.AGGS[a],e}),{}),lastUpdated:Date.now()})});case T.RECEIVE_ALL:return Object(ra.a)({},e,{works:Object(ra.a)({},e.works,{isFetching:!1,items:t.payload.WORKS,lastUpdated:Date.now()}),authors:Object(ra.a)({},e.authors,{isFetching:!1,items:t.payload.AUTHORS,lastUpdated:Date.now()}),subjects:Object(ra.a)({},e.subjects,{isFetching:!1,items:t.payload.SUBJECTS,lastUpdated:Date.now()})});case T.RECEIVE_ID:return Object(ra.a)({},e,{id:Object(ra.a)({},e.id,{isFetching:!1,items:t.payload.ID,lastUpdated:Date.now(),related:t.payload.RELATED})});case T.RECEIVE_WORKS:return Object(ra.a)({},e,{works:Object(ra.a)({},e.works,{isFetching:!1,items:t.payload,lastUpdated:Date.now()})});case T.RECEIVE_AUTHORS:return Object(ra.a)({},e,{authors:Object(ra.a)({},e.authors,{isFetching:!1,items:t.payload,lastUpdated:Date.now()})});case T.RECEIVE_SUBJECTS:return Object(ra.a)({},e,{subjects:Object(ra.a)({},e.subjects,{isFetching:!1,items:t.payload,lastUpdated:Date.now()})});case T.CLEAR_ID:return console.log("this is clear id"),Object(ra.a)({},e,{id:sa.ES.id});default:return e}},oa=J.defaultLanguage,ua=J.routerActions,ma=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_LANG:return t.language;case ua.LOCATION_CHANGE:return 0===t.payload.location.pathname.split("/")[1].length?e:t.payload.location.pathname.split("/")[1];default:return e}},da=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_PAGE:return t.page;default:return e}},pa=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_COLLAPSE:return t.collapse;default:return e}},Ea=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa.menu,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_MENU:return t.menu;default:return e}},ha=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_COLLECTION:return t.collection;default:return e}},fa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_CURRENT_SEARCH_TERM:return t.payload;default:return e}},va=a(102),ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa.offsets,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.RESET_OFFSETS:return sa.offsets;case T.SET_OFFSETS:return Object(ra.a)({},e,Object(va.a)({},t.offsetType,t.offset));default:return e}},ba=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_MODAL:return t.payload;default:return e}},Sa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.ADD_TERM_TO_HISTORY:return Array.from(new Set([].concat(Object(ft.a)(e),[t.term]))).sort();default:return e}},ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.ADD_TERM_TO_FILTER:var a=t.payload,n=a.filter,r=a.isActive;return bt([].concat(Object(ft.a)(e),[n]),r,n.label);case T.REMOVE_FILTER:return Object(ft.a)(e).filter((function(e){return e.label!==t.payload}));case T.CLEAR_FILTER_ARRAY:return[];default:return e}},_a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa.browse,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_BROWSE:return t.payload;default:return e}},wa=function(e){return Object(ta.c)({router:Object(na.a)(e),history:Sa,filterArray:ya,selectedLanguage:ma,selectedPage:da,selectedMenu:Ea,selectedBrowse:_a,setCollapse:pa,setCollection:ha,setModal:ba,offsets:ga,currentSearchTerm:fa,WP:ca,GS:la,ES:ia})},Oa=a(225);var Ta=a(135),Na=a(223),Ra=a.n(Na),ka=J.languages;Ta.a.use(Ra.a).use(ge.a).init({fallbackLng:"en",debug:!1,preload:Object.keys(ka).map((function(e){return e})),returnObjects:!0,detection:{order:["path","localStorage"],lookupFromPathIndex:0,lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:!1},interpolation:{escapeValue:!1},react:{wait:!0}});Ta.a;var Aa,ja=function(e){var t=Object(Oa.a)(),a=[aa.a],n=[ta.a.apply(void 0,a)],r=ta.d.apply(void 0,n);return Object(ta.e)(wa(t),e,r)}();(Aa=ja).dispatch(ie("pages")),Aa.dispatch(se("posts")),Aa.dispatch(le()),Aa.dispatch(ee());l.a.render(r.a.createElement((function(){return document.body.classList.add("landing"),r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:ja},r.a.createElement(i.a,null,r.a.createElement(o.b,{component:ea}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},69:function(e,t,a){e.exports=a.p+"static/media/nlm_logo_transparent.f3d5d89f.png"},84:function(e,t,a){}},[[229,1,2]]]);
//# sourceMappingURL=main.4d642ca1.chunk.js.map