(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(e,t,a){},221:function(e,t,a){e.exports=a.p+"static/media/UB-woodblock-closeup.67ac4b0f.jpg"},230:function(e,t,a){e.exports=a(507)},270:function(e,t){},272:function(e,t){},304:function(e,t){},305:function(e,t){},371:function(e,t){},481:function(e,t,a){},483:function(e,t,a){},485:function(e,t,a){},488:function(e,t,a){},490:function(e,t,a){},493:function(e,t,a){},495:function(e,t,a){},498:function(e,t,a){},501:function(e,t,a){},507:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(213),c=a.n(s),l=a(5),i=a(45),o=a(86);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u="REQUEST_PAGES",d="RECEIVE_PAGES",m="REQUEST_POSTS",b="RECEIVE_POSTS",p="REQUEST_GS",h="RECEIVE_GS",f="DETAIL_MODAL",g="RECEIVE_MANIFEST",N="REQUEST_MANIFEST",v="NULLIFY_IIIF",E="RECEIVE_IIIF",W="REQUEST_IIIF",L="REQUEST_ES_DATA",M="RECEIVE_ES_DATA",y="RECEIVE_DATA",w="REQUEST_DATA",k="REQUEST_WORKS",j="RECEIVE_WORKS",O="REQUEST_ID",_="RECEIVE_ID",A="RECEIVE_AUTHORS",S="REQUEST_AUTHORS",I="RECEIVE_TOPICS",T="REQUEST_TOPICS",C="RECEIVE_SUBJECTS",x="REQUEST_SUBJECTS",G="REQUEST_RESOURCES",D="RECEIVE_RESOURCES",R=a(14),P=a.n(R),F=a(43),K=a(102),U=a(215),V=!1,B="red",Q=new(a.n(U).a.Client)({host:{protocol:"http",host:"157.230.172.69",port:9200,path:""},log:"info"});function z(){return(z=Object(F.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=20;break}pe("Connnnnecting....");case 2:if("red"!==B){e.next=18;break}return e.prev=3,e.next=6,Q.cluster.health({});case 6:t=e.sent,pe("health: ",t),B=t.status,V=!0,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Connection is failing...",e.t0),V=!1;case 16:e.next=2;break;case 18:e.next=0;break;case 20:return e.abrupt("return",V);case 21:case"end":return e.stop()}},e,this,[[3,12]])}))).apply(this,arguments)}var H,q=function(e){var t=_e.initialIndexPrefix+"work",a={aggregations:{uniqueAuthors:{terms:{field:"workCreator.keyword",size:e.length}}},query:{ids:{type:_e.type,values:e}}};return Q.search({index:t,body:a})},Y=function(e){var t=_e.initialIndexPrefix+"work",a={aggregations:{uniqueTopics:{terms:{field:"workIsAbout.keyword",size:e.length}}},query:{ids:{type:_e.type,values:e}}};return Q.search({index:t,body:a})},J=a(98),$=function(e,t,a){var n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],null),c=[],l=_e.initialIndexPrefix;"P"===a?(n=l+"person",c=["personName","skos:prefLabel","_*"]):"T"===a?(n=[l+"person",l+"topic",l+"work"],c=["personName","@id","note.noteText","skos:prefLabel","workCreator","workIsAbout","_*"]):"W"===a&&(n=l+"work",s="skos:prefLabel.@value.keyword",c=["@id","note.noteText","skos:prefLabel","workCreator","workIsAbout","_*"]);var i={size:t,aggregations:{collections:{terms:{field:"_collection",order:{_count:"desc"}}}},query:{bool:{filter:[{ids:{type:_e.type,values:e}}]}}};return r||(i._source=c),null!==s&&(i.sort=[Object(J.a)({},s,{order:"asc"})]),Q.search({index:n,body:i})},X=function(e,t,a,n){var r={size:18,query:{bool:{must:{term:Object(J.a)({},t,{value:e})},filter:{ids:{type:_e.type,values:a}}}}};return Q.search({index:n,body:r})},Z=[];function ee(e){switch(e){case k:return{type:k};case S:return{type:S};case x:return{type:x};default:return null}}function te(e,t){return{type:e,data:t,receivedAt:Date.now()}}(H=Z=["bdr:W22677","bdr:W14260","bdr:W1GS135531","bdr:W1GS135873","bdr:W1GS136667","bdr:W1KG10720","bdr:W1KG1132","bdr:W1KG1247","bdr:W1KG1248","bdr:W1KG1249","bdr:W1KG1250","bdr:W1KG1251","bdr:W1KG1252","bdr:W1KG1253","bdr:W1KG1254","bdr:W1KG1279","bdr:W1KG1280","bdr:W1KG1284","bdr:W1KG1286","bdr:W1KG1320","bdr:W1KG1321","bdr:W1KG14630","bdr:W1KG14641","bdr:W1KG14700","bdr:W1KG1558","bdr:W1KG1559","bdr:W1KG1573","bdr:W1KG1578","bdr:W1KG1607","bdr:W1KG1608","bdr:W1KG1609","bdr:W1KG1610","bdr:W1KG1616","bdr:W1KG1617","bdr:W1KG1623","bdr:W1KG1624","bdr:W1KG1625","bdr:W1KG1626","bdr:W1KG1627","bdr:W1KG1645","bdr:W1KG1646","bdr:W1KG1653","bdr:W1KG1655","bdr:W1KG1656","bdr:W1KG1657","bdr:W1KG1658","bdr:W1KG2144","bdr:W1KG26108","bdr:W1KG5182","bdr:W1KG5200","bdr:W22344","bdr:W22434","bdr:W22677","bdr:W8238"]).push.apply(H,Object(K.a)(["bdr:W1NLM1","bdr:W1NLM2","bdr:W1NLM3","bdr:W1NLM4","bdr:W1NLM5","bdr:W1NLM6","bdr:W1NLM7","bdr:W1NLM8","bdr:W1NLM9","bdr:W1NLM10","bdr:W1NLM11","bdr:W1NLM12","bdr:W1NLM13","bdr:W1NLM14","bdr:W1NLM15","bdr:W1NLM16","bdr:W1NLM17","bdr:W1NLM18","bdr:W1NLM19","bdr:W1NLM20","bdr:W1NLM21","bdr:W1NLM22","bdr:W1NLM23","bdr:W1NLM24","bdr:W1NLM25","bdr:W1NLM26","bdr:W1NLM27","bdr:W1NLM28","bdr:W1NLM29","bdr:W1NLM30","bdr:W1NLM31","bdr:W1NLM32","bdr:W1NLM33","bdr:W1NLM34","bdr:W1NLM35","bdr:W1NLM36","bdr:W1NLM37","bdr:W1NLM38","bdr:W1NLM39","bdr:W1NLM40","bdr:W1NLM41","bdr:W1NLM42","bdr:W1NLM43","bdr:W1NLM44","bdr:W1NLM45","bdr:W1NLM46","bdr:W1NLM47","bdr:W1NLM48","bdr:W1NLM49","bdr:W1NLM50","bdr:W1NLM51","bdr:W1NLM52","bdr:W1NLM53","bdr:W1NLM54","bdr:W1NLM55","bdr:W1NLM56","bdr:W1NLM57","bdr:W1NLM58","bdr:W1NLM59","bdr:W1NLM60","bdr:W1NLM61","bdr:W1NLM62","bdr:W1NLM63","bdr:W1NLM64","bdr:W1NLM65","bdr:W1NLM66","bdr:W1NLM67","bdr:W1NLM68","bdr:W1NLM69","bdr:W1NLM70","bdr:W1NLM71","bdr:W1NLM72","bdr:W1NLM73","bdr:W1NLM74","bdr:W1NLM75","bdr:W1NLM76","bdr:W1NLM77","bdr:W1NLM78","bdr:W1NLM79","bdr:W1NLM80","bdr:W1NLM81","bdr:W1NLM82","bdr:W1NLM83","bdr:W1NLM84","bdr:W1NLM85","bdr:W1NLM86","bdr:W1NLM87","bdr:W1NLM88","bdr:W1NLM89","bdr:W1NLM90","bdr:W1NLM91","bdr:W1NLM92","bdr:W1NLM93","bdr:W1NLM94","bdr:W1NLM95","bdr:W1NLM96","bdr:W1NLM97","bdr:W1NLM98","bdr:W1NLM99","bdr:W1NLM100","bdr:W1NLM101","bdr:W1NLM102","bdr:W1NLM103","bdr:W1NLM104","bdr:W1NLM105","bdr:W1NLM106","bdr:W1NLM107","bdr:W1NLM108","bdr:W1NLM109","bdr:W1NLM110","bdr:W1NLM111","bdr:W1NLM112","bdr:W1NLM113","bdr:W1NLM114","bdr:W1NLM115","bdr:W1NLM116","bdr:W1NLM117","bdr:W1NLM118","bdr:W1NLM119","bdr:W1NLM120","bdr:W1NLM121","bdr:W1NLM122","bdr:W1NLM123","bdr:W1NLM124","bdr:W1NLM125","bdr:W1NLM126","bdr:W1NLM127","bdr:W1NLM128","bdr:W1NLM129","bdr:W1NLM130","bdr:W1NLM131","bdr:W1NLM132","bdr:W1NLM133","bdr:W1NLM134","bdr:W1NLM135","bdr:W1NLM136","bdr:W1NLM137","bdr:W1NLM138","bdr:W1NLM139","bdr:W1NLM140","bdr:W1NLM141","bdr:W1NLM142","bdr:W1NLM143","bdr:W1NLM144","bdr:W1NLM145","bdr:W1NLM146","bdr:W1NLM147","bdr:W1NLM148","bdr:W1NLM149","bdr:W1NLM150","bdr:W1NLM151","bdr:W1NLM152","bdr:W1NLM153","bdr:W1NLM154","bdr:W1NLM155","bdr:W1NLM156","bdr:W1NLM157","bdr:W1NLM158","bdr:W1NLM159","bdr:W1NLM160","bdr:W1NLM161","bdr:W1NLM162","bdr:W1NLM163","bdr:W1NLM164","bdr:W1NLM165","bdr:W1NLM166","bdr:W1NLM167","bdr:W1NLM168","bdr:W1NLM169","bdr:W1NLM170","bdr:W1NLM171","bdr:W1NLM172","bdr:W1NLM173","bdr:W1NLM174","bdr:W1NLM175","bdr:W1NLM176","bdr:W1NLM177","bdr:W1NLM178","bdr:W1NLM179","bdr:W1NLM180","bdr:W1NLM181","bdr:W1NLM182","bdr:W1NLM183","bdr:W1NLM184","bdr:W1NLM185","bdr:W1NLM186","bdr:W1NLM187","bdr:W1NLM188","bdr:W1NLM189","bdr:W1NLM190","bdr:W1NLM191","bdr:W1NLM192","bdr:W1NLM193","bdr:W1NLM194","bdr:W1NLM195","bdr:W1NLM196","bdr:W1NLM197","bdr:W1NLM198","bdr:W1NLM199","bdr:W1NLM200","bdr:W1NLM201","bdr:W1NLM202","bdr:W1NLM203","bdr:W1NLM204","bdr:W1NLM205","bdr:W1NLM206","bdr:W1NLM207","bdr:W1NLM208","bdr:W1NLM209","bdr:W1NLM210","bdr:W1NLM211"]));function ae(e){return function(t){pe("fetchSpecificID!",e),t({type:O});try{$([e],1,e.charAt(4),!0).then(function(e){return t({type:_,data:a=e,imageAsset:a.hits.hits[0]._source.workHasItemImageAsset,volume:a.hits.hits[0]._source.workHasItem,receivedAt:Date.now()});var a})}catch(a){console.error("fetch ID error! ",a)}}}var ne=function(){var e=Object(F.a)(P.a.mark(function e(t,a){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.hits.hits.map(function(){var e=Object(F.a)(P.a.mark(function e(t,n){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("_id"in t)){e.next=4;break}return e.next=3,X(t._id,a,Z,_e.initialIndex).then(function(e){var a=re(e);return t._related=a});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),re=function(e){return e.hits.hits.map(function(){var e=Object(F.a)(P.a.mark(function e(t){var a;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==t&&("skos:prefLabel"in t._source?Array.isArray(t._source["skos:prefLabel"])?t._source["skos:prefLabel"].some(function(e){return"en"===e["@language"]})?a=(a=t._source["skos:prefLabel"].find(function(e){return"en"===e["@language"]}))["@value"]:t._source["skos:prefLabel"].some(function(e){return"bo-x-ewts"===e["@language"]})&&(a=(a=t._source["skos:prefLabel"].find(function(e){return"bo-x-ewts"===e["@language"]}))["@value"]):"object"===typeof t._source["skos:prefLabel"]&&(a=t._source["skos:prefLabel"]["@value"]):a=null),e.abrupt("return",t._tid=a);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),e.hits.hits.sort(function(e,t){return e._tid.localeCompare(t._tid)}),e},se=function(e){var t;return Array.isArray(e)?e.some(function(e){return"en"===e["@language"]})?t=(t=e.find(function(e){return"en"===e["@language"]}))["@value"]:e.some(function(e){return"bo-x-ewts"===e["@language"]})&&(t=(t=e.find(function(e){return"bo-x-ewts"===e["@language"]}))["@value"]):t="object"===typeof e?e["@value"]:null,t},ce=a(216),le=a.n(ce),ie="".concat("https://docs.google.com/spreadsheets/d/").concat("1hPqe-Y2TWwMTAxIEXYvc8du_GMFUJQNPvZbJou7veAY","/edit?usp=sharing");var oe=function(){var e=Object(F.a)(P.a.mark(function e(){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,t){le.a.init({key:ie,callback:function(a,n){e(a.Stats.elements),t(n)}})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();var ue="http://178.128.7.239/",de="wp-json/wp/v2/";var me="http://178.128.7.239/",be="wp-json/wp/v2/";var pe=function(){},he=function(e){var t={boolean:{},number:{},string:{}},a=[];return e.filter(function(e){var n=typeof e;return n in t?!t[n].hasOwnProperty(e)&&(t[n][e]=!0):!(a.indexOf(e)>=0)&&a.push(e)})},fe=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null==t)return null;Array.isArray(t)?t.map(function(t){if("object"===typeof t)return e(t,a,n)}):"object"===typeof t&&"noteText"in t&&"@value"in t.noteText&&(t.noteText["@value"].toLowerCase().includes("nlmid")?n.push(t.noteText["@value"]):a.push(t.noteText["@value"]));var r=n.find(function(e){return e.toLowerCase().includes("nlmid")});return{parsedNotes:a.sort(),nlmIDs:null==r?null:r}},ge=void 0,Ne=["primary","personal"],ve=function e(t){if(null==t)return null;if(Array.isArray(t))return t.map(function(t,a){return"object"===typeof t?e(t):"bdr"===t.substring(0,3)?r.a.createElement("div",{key:a,className:"card-sub-item"},r.a.createElement("div",null,t)):r.a.createElement("div",{key:a,className:"card-sub-item"},t)});if("object"===typeof t){if(!t.hasOwnProperty("type"))return r.a.createElement("p",{key:t["@value"],className:"meta-item"},r.a.createElement("span",{className:"meta-title"},t["@value"]));if(Ne.some(function(e){return t.type.toLowerCase().includes(e)}))return Ee(t,t.type)}else if("string"===typeof t)return"bdr"===t.substring(0,3)?r.a.createElement("div",{onClick:function(){return ge.showModal(t.split(":")[1])}},t):t},Ee=function(e,t){if(Array.isArray(e["rdfs:label"])){var a=e["rdfs:label"].sort().map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("span",{className:"meta-italics"},"(",e["@language"],"): "),r.a.createElement("span",{className:"meta-title"},e["@value"]))});return r.a.createElement("div",{key:t,className:"meta-item with-fa"},r.a.createElement("span",{className:"meta-detail"},t.substring(6),":"),a)}return r.a.createElement("p",{key:t,className:"meta-item with-fa"},r.a.createElement("span",{className:"meta-detail"},t.substring(6),": "),r.a.createElement("span",{className:"meta-italics"},"(",e["rdfs:label"]["@language"],"): "),r.a.createElement("span",{className:"meta-title"},e["rdfs:label"]["@value"]))},We=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=[];if(null==t)return null;if(Array.isArray(t))t.map(function(t){if("object"===typeof t)return e(t,a,n)});else if("object"===typeof t)if("PersonBirth"===t.type||"PersonDeath"===t.type){var s=t.type.includes("Birth")?"Born":"Died";"onYear"in t?a.push("".concat(s," in ").concat(t.onYear)):Object.keys(t).some(function(e){return~e.indexOf("not")})&&a.push("".concat(s," between ").concat(t.notBefore," and ").concat(t.notAfter))}else"PersonOccupiesSeat"===t.type&&"eventWhere"in t&&n.push({_id:t.eventWhere.substring(4),_url:"".concat(Oe).concat(t.eventWhere.substring(4),".ttl")});return r.push(a.sort()),r.push(n.sort()),r},Le=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==t)return null;if(Array.isArray(t))return t.map(function(t,n){if("object"===typeof t)return e(t,a);t.substring(0,3),a.push(t)}),a;if("object"===typeof t){if("@value"in t)return t["@value"]}else if("string"===typeof t)return t.substring(0,3),t},Me="en",ye={en:"English",mn:"Mongolian"},we=[{browse:"Title",stateType:"esWorks"},{browse:"Author",stateType:"esAuthors"},{browse:"Subject",stateType:"esSubjects"}],ke={"bdr:GenderMale":"Male","bdr:GenderFemale":"Female"},je={"bdr:ObjectTypeBlockprint":"Blockprint"},Oe="http://purl.bdrc.io/resource/",_e={initialIndex:"v1_bdrc_work",initialIndexPrefix:"v1_bdrc_",type:"_doc",size:10},Ae="max",Se="0",Ie="default.jpg",Te="/".concat("full","/").concat(Ae,"/").concat(Se,"/").concat(Ie),Ce=function(e){return{type:"SET_LANG",language:e}},xe=function(e){return{type:"SET_PAGE",page:e}},Ge=a(36),De=a(37),Re=a(39),Pe=a(38),Fe=a(40),Ke=a(11),Ue=a(227),Ve=(a(96),(new Ke.b)(function(e){var t=e.active,a=e.children,n=e.dispatch,s=e.lang,c=e.i18n;return r.a.createElement("li",{key:a,onClick:function(){var e;n(Ce(s,c)),e=s,c.changeLanguage(e)},className:t?"lang-active":"lang"},r.a.createElement("button",{key:a,disabled:!!t,className:"btn-lang"},a))})),Be=Object(l.c)(function(e,t){return{active:t.selectedLanguage===e.selectedLanguage,lang:t.selectedLanguage||Me}})(Ve),Qe=(new Ke.b)(function(e){var t;return t=Object.entries(e.t("languages")).map(function(t){var a=Object(Ue.a)(t,2),n=a[0],s=a[1],c="home"===e.page?"":"/".concat(e.page);return r.a.createElement(i.b,{key:n,to:"/".concat(n).concat(c)},r.a.createElement(Be,{key:s,selectedLanguage:n},s))}),r.a.createElement("ul",{className:"language-list"},t)}),ze=Object(l.c)(function(e){return{page:e.selectedPage}})(Qe),He=Object(l.c)(function(e,t){return{active:t.selectedPage===e.selectedPage}},function(e,t){return{onClick:function(){return e(xe(t.selectedPage))}}})(function(e){var t=e.active,a=e.children,n=e.onClick;return r.a.createElement("li",{key:a,onClick:t?null:n,className:t?"nav-active":"nav",style:t?{color:"red"}:{color:"black"}},r.a.createElement("button",{key:a,disabled:!!t,className:"btn-nav"},a))}),qe=(new Ke.b)(function(e){var t=e.navigation,a=e.match,n=e.t;if(null==t)return null;var s=t.map(function(e){var t="home"===e.match?"":"/".concat(e.match);return r.a.createElement(i.b,{key:e.slug,to:"/".concat(a.params.lng).concat(t)},r.a.createElement(He,{key:e.slug,selectedPage:e.match},n("pages")[e.match]))});return r.a.createElement("ul",{className:"nav-list"},s)}),Ye=Object(l.c)(function(e){return{navigation:e.pages.isFetching?null:(t=e.pages.items[e.selectedLanguage],t.map(function(e){return{match:e.slug.split("-")[0],slug:e.slug}}))};var t})(qe),Je=function(e){function t(e){var a;return Object(Ge.a)(this,t),(a=Object(Re.a)(this,Object(Pe.a)(t).call(this,e))).resetPage=function(){a.props.dispatch({type:"SET_PAGE",page:"home"}),a.props.i18n.changeLanguage(Me),a.props.dispatch(Ce(Me))},a.setNumber={0:"one",1:"one",2:"two",3:"three",4:"four"},a.rgbLight=[239,239,239],a.rgbDark=[0,0,0],a}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"renderPage",value:function(e,t){return t.some(function(t){return t.slug.split("-")[0]===e})||(pe("page not there"),this.resetPage()),t.filter(function(t){return t.slug.split("-")[0]===e}).map(function(e,t){var a=null;return e._embedded["wp:featuredmedia"]&&(a=e._embedded["wp:featuredmedia"][0].source_url),r.a.createElement("div",{key:e.slug},r.a.createElement("section",{id:"banner",key:e.id,style:{backgroundImage:"url(".concat(a,")")}},r.a.createElement("header",{className:"major"},r.a.createElement("h1",null,e.acf.title),r.a.createElement("h3",null,e.acf.subtitle),r.a.createElement("div",{className:"inner-page"},r.a.createElement("section",{className:"spotlights-page"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}}))))))})}},{key:"render",value:function(){return this.props.fetchingWP?r.a.createElement("div",{className:"blinky"},this.props.t("technical.loading")):r.a.createElement("div",{className:"container"},this.renderPage(this.props.selectedPage,this.props.pages))}}]),t}(n.Component),$e=(new Ke.b)(Je),Xe=Object(l.c)(function(e){return{fetchingWP:e.pages.isFetching||e.posts.isFetching,selectedLanguage:e.selectedLanguage||Me,selectedPage:e.pages.isFetching?[]:e.pages.items[e.selectedLanguage].some(function(t){return t.slug.split("-")[0]===e.selectedPage})?e.selectedPage:"home",pages:e.pages.isFetching?[]:e.pages.items[e.selectedLanguage]}})($e),Ze=(a(481),function(e){var t=e.history,a=e.match;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",{id:"header"},r.a.createElement(ze,null),r.a.createElement(Ye,{history:t,match:a})),r.a.createElement(Xe,{history:t}))}),et=(a(483),Object(Ke.b)()(function(e){var t=e.t;return r.a.createElement("footer",{id:"footer"},r.a.createElement("div",{className:"icon"},r.a.createElement("img",{src:"http://".concat("178.128.7.239","/wp-content/uploads/2018/10/nlm-logo-no-text.png"),alt:"mongolia-logo"})),r.a.createElement("ul",{className:"menu"},r.a.createElement("li",null,r.a.createElement("a",{href:"mailto:info@asianclassics.org",target:"_blank",rel:"noopener noreferrer"},t("footer.contact"))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://nationallibrary.mn/mn/",target:"_blank",rel:"noopener noreferrer"},t("footer.library-site"))),r.a.createElement("li",null,r.a.createElement("a",{href:"http://178.128.7.239/wp-login.php",target:"_blank",rel:"noopener noreferrer"},t("footer.login")))),r.a.createElement("p",{className:"copyright"},"\xa9 ","".concat("2018"," ").concat(t("title"),". ").concat(t("footer.rights"),".")))})),tt=(a(485),function(e){function t(){return Object(Ge.a)(this,t),Object(Re.a)(this,Object(Pe.a)(t).apply(this,arguments))}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidenav wrapper style1"},r.a.createElement("div",{className:"sidenav-title"},"".concat(this.props.t("sidebar.browse"),":")),r.a.createElement("form",null,we.map(function(t){var a=null==e.props["number_".concat(t.stateType)]?e.props.t("technical.loading"):e.props["number_".concat(t.stateType)];return r.a.createElement("div",{key:t.browse,className:"col-4 col-12-small"},r.a.createElement("input",{id:t.browse,type:"radio",value:t.browse,checked:e.props.browse===t.browse,onChange:function(t){return e.props.dispatch({type:"SET_BROWSE",browse:t.target.value})}}),r.a.createElement("label",{htmlFor:t.browse},e.props.t("browse.".concat(t.browse))),r.a.createElement("span",{className:"meta-count"},"(",a,")"))})))}}]),t}(n.Component)),at=function(e,t){return t?e.aggregations.collections.buckets.find(function(e){return 2===e.key}).doc_count:e.hits.total},nt=(new Ke.b)(tt),rt=Object(l.c)(function(e){return{browse:e.setBrowse,number_esWorks:e.esWorks.isFetching?null:at(e.esWorks.items,e.setCollection),number_esAuthors:e.esAuthors.isFetching?null:at(e.esAuthors.items,e.setCollection),number_esSubjects:e.esSubjects.isFetching?null:at(e.esSubjects.items,e.setCollection)}})(nt),st=(a(212),function(e){var t=e.related,a=e.handleShowModal,n=e.match;if(null==t)return null;var s=n.params.lng,c=t.hits.hits.map(function(e,t){return r.a.createElement(i.b,{key:t,to:{pathname:"/".concat(s,"/archives/doc/").concat(e._id),state:{label:e._tid}},className:"subitems card-item-link",onClick:function(){return a(e._id)}},e._tid)});return r.a.createElement("div",null,c)}),ct=function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Re.a)(this,(e=Object(Pe.a)(t)).call.apply(e,[this].concat(r)))).handleShowModal=function(e){a.props.dispatch(ae(e)),a.props.dispatch({type:"DETAIL_MODAL",modalID:e,show:!0,initialRender:!1})},a}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"render",value:function(){var e=this,t=this.props.match.params.lng,a=we.find(function(t){return t.browse===e.props.browse});if(!this.props[a.stateType].length)return r.a.createElement("div",{className:"blinky"},this.props.t("technical.loading-simple")," ",this.props.t("browse.".concat(a.browse,"-plural")));var n=this.props[a.stateType].map(function(a,n){return r.a.createElement("div",{key:n,className:"item"},r.a.createElement(i.b,{to:{pathname:"/".concat(t,"/archives/doc/").concat(a._id),state:{label:a._tid}},className:"item-title card-item-link",onClick:function(){return e.handleShowModal(a._id)}},a._tid),a._related?r.a.createElement(st,{key:a._id,match:e.props.match,related:a._related,handleShowModal:e.handleShowModal}):null)});return r.a.createElement("div",null,n)}}]),t}(n.Component),lt=function(e,t){return t?e.filter(function(e){return 2===e._source._collection}):e},it=(new Ke.b)(ct),ot=Object(l.c)(function(e){return{esWorks:e.esWorks.isFetching?[]:lt(e.esWorks.items.hits.hits,e.setCollection),esAuthors:e.esAuthors.isFetching?[]:lt(e.esAuthors.items.hits.hits,e.setCollection),esSubjects:e.esSubjects.isFetching?[]:lt(e.esSubjects.items.hits.hits,e.setCollection),browse:e.setBrowse,collapse:e.setCollapse,collection:e.setCollection,doc_id:e.detailModal.modalID,showModal:e.detailModal.show}})(it),ut=(a(488),(new Ke.b)(function(e){var t=e.t,a=e.browse,n=e.match,s=e.history;return r.a.createElement("div",{className:"content"},r.a.createElement(rt,null),r.a.createElement("div",{className:"grid"},r.a.createElement("h1",{className:"archives-title"},"".concat(t("browse.".concat(a)),"s")),r.a.createElement(ot,{match:n,history:s})))})),dt=Object(l.c)(function(e){return{browse:e.setBrowse}})(ut),mt=a(221),bt=a.n(mt),pt=(a(490),function(e){function t(){return Object(Ge.a)(this,t),Object(Re.a)(this,Object(Pe.a)(t).apply(this,arguments))}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.stats,n=t.t;return e=0===Object.entries(a).length&&a.constructor===Object?r.a.createElement("div",{className:"blinky"},n("technical.loading")):r.a.createElement("ul",{className:"list-stats"},r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.LastUpdate"),": ",r.a.createElement("em",null,a.LastUpdate))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.PagesDigitized"),": ",r.a.createElement("em",null,a.PagesDigitized))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.VolumesDigitized"),": ",r.a.createElement("em",null,a.VolumesDigitized))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.VolumesCataloged"),": ",r.a.createElement("em",null,a["VolumesCataloged(normalized)"]))),r.a.createElement("li",{className:"stat-item"},r.a.createElement("p",null,n("stats.TitlesCataloged"),": ",r.a.createElement("em",null,a["TitlesCataloged(ACIP)"])))),r.a.createElement("section",{className:"wrapper special style3"},r.a.createElement("div",{className:"inner"},r.a.createElement("section",{className:"spotlights"},r.a.createElement("section",null,r.a.createElement("h2",null,n("stats.Title")),e),r.a.createElement("section",null,r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:bt.a,alt:""}))))))}}]),t}(n.Component)),ht=(new Ke.b)(pt),ft=Object(l.c)(function(e){return{stats:e.gsData.isFetching?{}:e.gsData.gs}})(ht),gt=(a(493),Object(l.c)(function(e){return{fetchingPosts:e.posts.isFetching,selectedLanguage:e.selectedLanguage,posts:e.posts.isFetching?[]:(t="acf",a="order",n=e.posts.items[e.selectedLanguage],n.sort(function(e,n){return e[t][a]<n[t][a]?-1:e[t][a]>n[t][a]?1:0}))};var t,a,n})(function(e){var t=e.posts;return t?t.map(function(e,t){var a=t%2===0?1:3,n="";return e._embedded["wp:featuredmedia"]&&(n=e._embedded["wp:featuredmedia"][0].source_url||""),2===parseInt(e.acf.columns)?r.a.createElement("section",{key:t,id:t,className:"wrapper special style".concat(a)},r.a.createElement("div",{className:"inner"},r.a.createElement("section",{className:"spotlights"},r.a.createElement("section",null,r.a.createElement("h2",null,e.acf.title),r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:n,alt:""}))),r.a.createElement("section",null,r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}}))))):r.a.createElement("section",{key:t,id:t,className:"wrapper special style".concat(a)},r.a.createElement("div",{className:"inner"},r.a.createElement("section",{className:"spotlights col1"},r.a.createElement("section",null,r.a.createElement("h2",null,e.acf.title),r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:n,alt:""})),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content.rendered}})))))}):null})),Nt=a(88),vt=(a(495),function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(Re.a)(this,(e=Object(Pe.a)(t)).call.apply(e,[this].concat(s)))).handleHideModal=function(e,t){a.props.dispatch({type:"DETAIL_MODAL",show:!1}),a.props.dispatch({type:"NULLIFY_IIIF"}),e?a.props.history.push("/".concat(Nt.a.language,"/archives")):a.props.history.goBack(),t.stopPropagation()},a.buildImg=function(e,t,a){return"bdr:AccessRestrictedSealed"===t?r.a.createElement("div",null,e("modal.image-restricted")):"Not Found"===a?r.a.createElement("div",null,e("modal.image-not-found")):null==a?r.a.createElement("div",{className:"blinky"},e("technical.loading-image")):r.a.createElement("img",{src:"".concat(a,"/").concat(Te),width:"100%",alt:"scan"})},a.buildWorkMetadata=function(e,t){var a=e.workExtentStatement,n=e.workLangScript,s=e.workNumberOfVolumes,c=e.workObjectType,l=e.workPublisherName,i=c?Le(c):null,o=l?Le(l):null;return r.a.createElement("ul",{className:"meta-detail-list"},i?r.a.createElement("li",{className:"meta-item all-caps"},t("modal.meta-print-type"),": ",r.a.createElement("span",{className:"no-trans"},je[i])):null,o?r.a.createElement("li",{className:"meta-item all-caps"},t("modal.meta-published-by"),": ",r.a.createElement("span",{className:"no-trans"},o)):null,a?r.a.createElement("li",{className:"meta-item all-caps"},t("modal.meta-work-extent"),": ",r.a.createElement("span",{className:"no-trans"},a,", in ",s," volume(s)")):null,n?r.a.createElement("li",{className:"meta-item all-caps"},t("modal.meta-language"),": ",r.a.createElement("span",{className:"no-trans"},n)):null)},a.buildAttribution=function(e){return r.a.createElement("p",{className:"meta-detail"},r.a.createElement("span",null,e("archives.attribution")))},a.parseModalDetails=function(e){var t=e.workDetail,n=e.label,s=e.t,c=t._source,l=c["@id"],i=c.type,o=c.note,u=c._firstImageURL,d=c._manifestURL,m=c["adm:access"];!n&&c["skos:prefLabel"]&&(n=se(c["skos:prefLabel"]));var b=Object.keys(s("bdrc-ontology")).find(function(e){return e===i.toLowerCase()}),p=null!=m&&m.toLowerCase().includes("restricted")?"restricted":null,h=null,f=null;if(o){var g=fe(o);h=g.parsedNotes,f=g.nlmIDs}var N=(h=h&&h.length?he(h):null)&&h.length?r.a.createElement("div",{className:"meta-grouping"},h.map(function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement("p",{className:"meta-item with-fa-note"},e))})):null,v=a.buildAttribution(s),E=r.a.createElement("button",{className:"modal-btn",onClick:function(e){return a.handleHideModal(a.props.initialRender,e)}},r.a.createElement("i",{className:"fa fa-2x fa-times"}),a.props.initialRender?s("technical.btn-view"):s("technical.btn-close")),W=r.a.createElement("div",{className:"meta-detail"},r.a.createElement("p",{className:"meta-item"},r.a.createElement("span",null,s("modal.detail")," ",l,", "),r.a.createElement("span",null," ",s("bdrc-ontology.".concat(b)))),null==f?null:r.a.createElement("p",{className:"meta-item"},r.a.createElement("span",null,"NLM ID: ",f.substring(7).trim())));switch(i){case"Person":var L=c.personEvent,M=c.personName,y=c.personGender,w=null==L?null:We(L),k=null,j=null;w&&(k=w[0].length>0?he(w[0]).join(", "):null,j=w[1].length>0?function(e){return e.map(function(e,t){return r.a.createElement("span",{key:t,className:"spacer"},r.a.createElement("a",{href:e._url,target:"_blank",rel:"noopener noreferrer"},e._id))})}(w[1]):null);var O=null==y?null:"".concat(s("gender.gender"),": ").concat(s("gender.gender-".concat(ke[y]))),_=O||k?function(e,t){return[e,t].map(function(e,t){if(e)return r.a.createElement("p",{key:t,className:"meta-item"},e)})}(O,k):null;return r.a.createElement("div",{className:"detail-data"},W,r.a.createElement("div",{className:"modal-title"},n),_?r.a.createElement("div",{className:"meta-detail"},_):null,j?r.a.createElement("div",{className:"meta-detail"},s("modal.geography-associated-places"),":",j):null,r.a.createElement("div",{className:"meta-grouping"},ve(M)),N,E);case"Topic":return r.a.createElement("div",{className:"detail-data"},W,r.a.createElement("div",{className:"modal-title"},n),N,E);case"Work":var A=a.buildScansBtn(p,s,d),S=a.buildImg(s,p,u),I=a.buildWorkMetadata(c,s),T=Le(c.workCatalogInfo),C=T?r.a.createElement("div",{className:"meta-catalog"},r.a.createElement("p",{className:"modal-text"},r.a.createElement("span",{className:"meta-title"},T))):null;return r.a.createElement("div",{className:"detail-data"},r.a.createElement("div",{className:"modal-title"},n),W,S,v,C,I,N,E,A);default:return null}},a}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"buildScansBtn",value:function(e,t,a){var n=null;return null==a?null:(void 0!==a&&(n=0===a.length?null:"restricted"===e?r.a.createElement("button",{disabled:!0},r.a.createElement("i",{className:"fa fa-2x fa-eye-slash"})," ",t("modal.scans-restricted")):r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"/uv.html?manifest="+a},r.a.createElement("button",null,r.a.createElement("i",{className:"fa fa-2x fa-eye"})," ",t("modal.scans")))),n)}},{key:"render",value:function(){pe("modal is being rendered...more than once? need memoized selector!",this.props);var e=this.props.show?"modal display-block":"modal display-none";return 0===Object.keys(this.props.workDetail).length?r.a.createElement("div",{className:e},r.a.createElement("section",{className:"modal-main"},r.a.createElement("div",{className:"blinky"},this.props.t("technical.loading")," ",this.props.doc_id),r.a.createElement("button",{className:"modal-btn",onClick:this.props.hideModal},r.a.createElement("i",{className:"fa fa-2x fa-times"}),this.props.initialRender?this.props.t("technical.btn-view"):this.props.t("technical.btn-close")))):r.a.createElement("div",{className:e},r.a.createElement("section",{className:"modal-main"},this.parseModalDetails(this.props)))}}]),t}(n.Component)),Et=Object(Ke.b)()(vt),Wt=Object(l.c)(function(e){return{workDetail:e.detailData.isFetching||0===e.detailModal.modalID?{}:e.detailData.item.hits.hits[0],numberVolumes:e.detailData.isFetching||0===e.detailModal.modalID?null:e.detailData.item.hits.hits[0]._source.workNumberOfVolumes,initialRender:!!e.detailModal.initialRender&&e.detailModal.initialRender}})(Et),Lt=function(e){function t(){var e,a;Object(Ge.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Re.a)(this,(e=Object(Pe.a)(t)).call.apply(e,[this].concat(r)))).previousLocation=a.props.location,a.l=Object.keys(ye).map(function(e){return e}).join("|"),a.setLang=function(e){var t=a.props,n=t.i18n,r=t.dispatch;n.changeLanguage(e),r(Ce(e))},a}return Object(Fe.a)(t,e),Object(De.a)(t,[{key:"componentDidMount",value:function(){this.languageCheckAndUpdate()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;"POP"!==e.history.action&&(this.previousLocation=t)}},{key:"languageCheckAndUpdate",value:function(){pe("RS check lang and page",this.props);var e=this.props,t=e.history,a=e.dispatch,n=e.t,r=t.location.pathname;void 0!==r.split("/")[2]&&(Object.keys(n("pages")).includes(r.split("/")[2])?a(xe("archives")):(a(xe("home")),t.push("/".concat(r.split("/")[1])))),r.split("/")[1]in ye?this.setLang(r.split("/")[1]):(this.setLang(Me),a(xe("home")),t.push(Me))}},{key:"render",value:function(){var e=this,t=this.props.location===this.previousLocation;return r.a.createElement("div",null,r.a.createElement(o.b,{path:"/:lng(".concat(this.l,")"),component:Ze}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/:lng(".concat(this.l,")"),render:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(ft,null),r.a.createElement(gt,null))}}),r.a.createElement(o.b,{path:"/:lng(".concat(this.l,")/archives"),render:function(e){var t=e.match,a=e.history;return r.a.createElement("div",{className:"container"},r.a.createElement(dt,{match:t,history:a}))}}),r.a.createElement(o.b,{render:function(){return r.a.createElement(o.a,{selectedPage:"home",to:"/en"})}})),r.a.createElement(et,null),r.a.createElement(o.b,{exact:!0,path:"/:lng(".concat(this.l,")/archives/doc/:id"),render:function(a){var n=a.match,s=a.history,c=e.props.location.state?e.props.location.state.label:null;return t&&(e.props.dispatch(ae(n.params.id)),e.props.dispatch({type:"DETAIL_MODAL",modalID:n.params.id,show:!0,initialRender:!0})),r.a.createElement(Wt,{key:n.params.id,history:s,doc_id:n.params.id,show:!0,label:c})}}))}}]),t}(n.Component),Mt=(new Ke.b)(Lt),yt=Object(l.c)()(Mt),wt=a(55),kt=a(222),jt=(a(497),a(225));function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object.assign({},e,{isFetching:!0});case d:return Object.assign({},e,{isFetching:!1,items:t.pages,lastUpdated:t.receivedAt});case m:return Object.assign({},e,{isFetching:!0});case b:return Object.assign({},e,{isFetching:!1,items:t.posts,lastUpdated:t.receivedAt});case w:case k:case L:case G:case S:case T:case x:return Object.assign({},e,{isFetching:!0});case y:case j:case D:case A:case M:case I:case C:return Object.assign({},e,{isFetching:!1,items:t.data,lastUpdated:t.receivedAt});case p:return Object.assign({},e,{isFetching:!0});case h:return Object.assign({},e,{isFetching:!1,gs:t.gs,lastUpdated:t.receivedAt});case O:return Object.assign({},e,{isFetching:!0});case _:return Object.assign({},e,{isFetching:!1,item:t.data,imageAsset:t.imageAsset,volume:t.volume,lastUpdated:t.receivedAt});case N:return Object.assign({},e,{isFetching:!0});case g:return Object.assign({},e,{isFetching:!1,manifestURL:t.manifestURL,lastUpdated:t.receivedAt});case W:return Object.assign({},e,{isFetching:!0});case E:return Object.assign({},e,{isFetching:!1,firstImage:t.firstImage,lastUpdated:t.receivedAt});case v:return Object.assign({},e,{firstImage:null});case f:return Object.assign({},e,{modalID:t.modalID,show:t.show,initialRender:t.initialRender});default:return e}}function _t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case u:return Object.assign({},e,Ot(e,t));default:return e}}function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case j:case M:case L:case w:case k:return Object.assign({},e,Ot(e,t));default:return e}}function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:case G:return Object.assign({},e,Ot(e,t));default:return e}}function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:case S:return Object.assign({},e,Ot(e,t));default:return e}}function Tt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case C:case T:case x:return Object.assign({},e,Ot(e,t));default:return e}}function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:case O:return Object.assign({},e,Ot(e,t));default:return e}}function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case p:return Object.assign({},e,Ot(e,t));default:return e}}function Gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:case N:return Object.assign({},e,Ot(e,t));default:return e}}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case v:case W:return Object.assign({},e,Ot(e,t));default:return e}}function Rt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case m:return Object.assign({},e,Ot(e,t));default:return e}}var Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LANG":return t.language;case"@@router/LOCATION_CHANGE":return 0===t.payload.location.pathname.split("/")[1].length?e:t.payload.location.pathname.split("/")[1];default:return e}};function Ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{modalID:0,initialRender:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,Ot(e,t));default:return e}}var Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"home",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PAGE":return t.page;default:return e}},Ut=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLAPSE":return t.collapse;default:return e}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Title",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BROWSE":return t.browse;default:return e}},Bt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLECTION":return t.collection;default:return e}},Qt=function(e){return Object(wt.c)({router:Object(jt.a)(e),selectedLanguage:Pt,selectedPage:Kt,setCollapse:Ut,setBrowse:Vt,setCollection:Bt,pages:_t,posts:Rt,esWorks:At,esAuthors:It,esSubjects:Tt,esResources:St,gsData:xt,detailData:Ct,manifestData:Gt,IIIFData:Dt,detailModal:Ft})},zt=a(226);a(498),a(501);var Ht=a(224),qt=a.n(Ht);Nt.a.use(qt.a).use(Ke.a).init({fallbackLng:"en",debug:!1,preload:Object.keys(ye).map(function(e){return e}),returnObjects:!0,detection:{order:["path","localStorage"],lookupFromPathIndex:0,lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:!1},interpolation:{escapeValue:!1},react:{wait:!0}});Nt.a;var Yt=function(e){var t=Object(zt.a)(),a=[kt.a],n=[wt.a.apply(void 0,a)],r=wt.d.apply(void 0,n);return Object(wt.e)(Qt(t),e,r)}();Yt.dispatch(function(e){return e({type:u}),fetch("".concat(ue).concat(de,"pages?_embed")).then(function(e){return e.json()},function(e){return console.error("An error ",e)}).then(function(e){return e.reduce(function(e,t){var a=Object.keys(ye).find(function(e){return ye[e]===t.acf.language});return e[a]=e[a]||[],e[a].push(t),e},[])}).then(function(t){e(function(e){return{type:d,pages:e,receivedAt:Date.now()}}(t))})}),Yt.dispatch(function(e){return e({type:m}),fetch("".concat(me).concat(be,"posts?_embed")).then(function(e){return e.json()},function(e){return console.error("An error ",e)}).then(function(e){return e.reduce(function(e,t){var a=Object.keys(ye).find(function(e){return ye[e]===t.acf.language});return e[a]=e[a]||[],e[a].push(t),e},[])}).then(function(t){return e(function(e){return{type:b,posts:e,receivedAt:Date.now()}}(t))})}),Yt.dispatch(function(){var e=Object(F.a)(P.a.mark(function e(t){var a,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:p}),e.prev=1,e.next=4,oe();case 4:return a=e.sent,n={},a.map(function(e){var t=e.StatName.split(" ").join("");n[t]=isNaN(e.Value)?e.Value:String(e.Value).replace(/(.)(?=(\d{3})+$)/g,"$1,")}),e.abrupt("return",t({type:h,gs:n,receivedAt:Date.now()}));case 10:e.prev=10,e.t0=e.catch(1),console.error("error from tabletop",e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}()),!function(){return z.apply(this,arguments)}()?console.log("Can't make connection to ES..."):(Yt.dispatch(function(){var e=Object(F.a)(P.a.mark(function e(t){var a,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee(k)),e.prev=1,e.next=4,$(Z,Z.length,"W");case 4:return a=e.sent,n=re(a),e.abrupt("return",t(te(j,n)));case 9:e.prev=9,e.t0=e.catch(1),console.error("there been fetchData error ",e.t0);case 12:case"end":return e.stop()}},e,this,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()),Yt.dispatch(function(){var e=Object(F.a)(P.a.mark(function e(t){var a,n,r,s;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee(S)),e.prev=1,e.next=4,q(Z);case 4:return a=e.sent,n=a.aggregations.uniqueAuthors.buckets.map(function(e){return e.key}),e.next=8,$(n,n.length,"P");case 8:return r=e.sent,e.next=11,ne(r,"workCreator.keyword");case 11:return s=re(r),e.abrupt("return",t(te(A,s)));case 15:e.prev=15,e.t0=e.catch(1),console.error("been done error in fetchAuthors",e.t0);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t){return e.apply(this,arguments)}}()),Yt.dispatch(function(){var e=Object(F.a)(P.a.mark(function e(t){var a,n,r,s;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee(x)),e.prev=1,e.next=4,Y(Z);case 4:return a=e.sent,n=a.aggregations.uniqueTopics.buckets.map(function(e){return e.key}),e.next=8,$(n,n.length,"T");case 8:return r=e.sent,e.next=11,ne(r,"workIsAbout.keyword");case 11:return s=re(r),e.abrupt("return",t(te(C,s)));case 15:e.prev=15,e.t0=e.catch(1),console.error("been error in da fetchTopics",e.t0);case 18:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t){return e.apply(this,arguments)}}()));c.a.render(r.a.createElement(function(){return document.body.classList.add("landing"),r.a.createElement("div",{className:"container"},r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Yt},r.a.createElement(i.a,null," ",r.a.createElement(o.b,{component:yt})))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},96:function(e,t,a){}},[[230,2,1]]]);
//# sourceMappingURL=main.c01d4a5d.chunk.js.map